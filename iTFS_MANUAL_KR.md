# HYBO | iLidar-ToF | iTFS Series User Manual (KR)
V 1.1.4 (21- Nov.-2024)

![top](./images/top.png)

# INDEX
- [INDEX](#index)
- [1. Important Information](#1-important-information)
  - [1-1. Notification](#1-1-notification)
  - [1-2. Warnings](#1-2-warnings)
  - [1-3. Legal Notices](#1-3-legal-notices)
    - [1-3-1. Laser Safety](#1-3-1-laser-safety)
    - [1-3-2. Hot Surface Warning](#1-3-2-hot-surface-warning)
  - [1-4. Certifications](#1-4-certifications)
    - [1-4-1. KC](#1-4-1-kc)
    - [1-4-2. CE](#1-4-2-ce)
    - [1-4-3. IEC 60825-1:2014](#1-4-3-iec-60825-12014)
- [2. Sensor Overview](#2-sensor-overview)
  - [2-1. iLidar-ToF](#2-1-ilidar-tof)
  - [2-2. Fundamentals of Indirect Time-of-Flight Sensors](#2-2-fundamentals-of-indirect-time-of-flight-sensors)
  - [2-3. Known Limitations](#2-3-known-limitations)
    - [2-3-1. Multi-Path Error](#2-3-1-multi-path-error)
    - [2-3-2. Scattering](#2-3-2-scattering)
  - [2-4. Specifications](#2-4-specifications)
    - [2-4-1. Differences by model](#2-4-1-differences-by-model)
    - [2-4-2. Commonalities](#2-4-2-commonalities)
- [3. Mechanical Parts](#3-mechanical-parts)
  - [3-1. What's in the box?](#3-1-whats-in-the-box)
  - [3-2. Mechanical Drawing](#3-2-mechanical-drawing)
  - [3-3. Installation Guidelines](#3-3-installation-guidelines)
- [4. Electrical Connection](#4-electrical-connection)
  - [4-1. Pinout](#4-1-pinout)
  - [4-2. Power](#4-2-power)
    - [4-2-1. Connection Example with PoE](#4-2-1-connection-example-with-poe)
    - [4-2-2. Connection Example with 12VDC](#4-2-2-connection-example-with-12vdc)
- [5. Sensor Operation](#5-sensor-operation)
  - [5-1. Network Configuration](#5-1-network-configuration)
    - [5-1-1. Windows](#5-1-1-windows)
    - [5-1-2. Linux(Ubuntu)](#5-1-2-linuxubuntu)
  - [5-2. iViewer:Simple iLidar Data Viewer](#5-2-iviewersimple-ilidar-data-viewer)
- [6. Packets and Parameters](#6-packets-and-parameters)
  - [6-1. Basic Packet Structure](#6-1-basic-packet-structure)
  - [6-2. List of ID](#6-2-list-of-id)
  - [6-3. IMG Packet](#6-3-img-packet)
  - [6-4. STATUS Packet](#6-4-status-packet)
  - [6-5. STATUS\_FULL Packet](#6-5-status_full-packet)
  - [6-6. INFO Packet](#6-6-info-packet)
  - [6-7. INFO\_V2 Packet](#6-7-info_v2-packet)
  - [6-8. CMD Packet](#6-8-cmd-packet)
  - [6-9. SYNC\_ACK Packet](#6-9-sync_ack-packet)
- [7. How to Handle Image and Point Cloud](#7-how-to-handle-image-and-point-cloud)
  - [7-1. Image Data](#7-1-image-data)
    - [7-1-1. Capture Row](#7-1-1-capture-row)
    - [7-1-2. Binning](#7-1-2-binning)
    - [7-1-3. Accumulating Image Packet](#7-1-3-accumulating-image-packet)
  - [7-2. Point Cloud](#7-2-point-cloud)
    - [7-2-1. Image Coordiantes to LiDAR Local Coordinates](#7-2-1-image-coordiantes-to-lidar-local-coordinates)
    - [7-2-2. LiDAR Local Coordinates to World Coordinates](#7-2-2-lidar-local-coordinates-to-world-coordinates)
- [8. Software Examples](#8-software-examples)
- [9. Configuration](#9-configuration)
  - [9-1. Configuration Process](#9-1-configuration-process)
  - [9-2. HDR Configuration](#9-2-hdr-configuration)
- [10. Synchronization](#10-synchronization)
  - [10-1. Multi-sensor Synchronization](#10-1-multi-sensor-synchronization)
  - [10-2. Synchronization Methods](#10-2-synchronization-methods)
    - [10-2-1. UDP Synchronization](#10-2-1-udp-synchronization)
    - [10-2-2. Trigger Synchronization](#10-2-2-trigger-synchronization)
    - [10-2-3. Optical Synchronization (in development)](#10-2-3-optical-synchronization-in-development)
  - [10-3. Fine-Tuning Time Window](#10-3-fine-tuning-time-window)
  - [10-4. Multi Sensor Examples](#10-4-multi-sensor-examples)
- [11. Sensor Maintenance Guide](#11-sensor-maintenance-guide)
  - [11-1. Hardware Maintenance and Safety Guide](#11-1-hardware-maintenance-and-safety-guide)
    - [11-1-1. Electrical Requirements and Safety Conditions](#11-1-1-electrical-requirements-and-safety-conditions)
    - [11-1-2. Temperature and Heat Dissipation](#11-1-2-temperature-and-heat-dissipation)
    - [11-1-3. Optical Windows](#11-1-3-optical-windows)
  - [11-2. Warning Code](#11-2-warning-code)
  - [11-3. Factory Reset](#11-3-factory-reset)
- [12. FAQ](#12-faq)

# 1. Important Information
## 1-1. Notification
- ì œí’ˆì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë³¸ ë¬¸ì„œì— ëª…ì‹œëœ ì•ˆë‚´ ë° ì£¼ì˜ì‚¬í•­ì„ ì´í•´í•˜ê³  ì¤€ìˆ˜í•˜ëŠ” ê²ƒì— ë™ì˜í•œ ê²ƒìœ¼ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤. 
- ì œí’ˆ ì‚¬ìš© ì „, ë°˜ë“œì‹œ ì•ˆì „ê·œì •ê³¼ ì‘ë™ ë°©ë²•ì„ ìˆ™ì§€í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. ë¶€ì ì ˆí•œ ì œí’ˆì˜ ì‚¬ìš©ì€ ì œí’ˆì— ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆìœ¼ë©°, ì˜¤ë™ì‘ì„ ì•¼ê¸°í•˜ì—¬ ìƒì²˜ë¥¼ ì…íˆê±°ë‚˜ ì¬ì‚° í”¼í•´ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì²˜ìŒ ì œí’ˆì„ ì‚¬ìš©í•˜ê¸° ì „ì— ì œí’ˆê³¼ ê´€ë ¨ëœ ìë£Œ(í€µ ìŠ¤íƒ€íŠ¸ ê°€ì´ë“œ, ì‚¬ìš©ì ë§¤ë‰´ì–¼)ë¥¼ ë°˜ë“œì‹œ ìˆ™ì§€í•˜ì‹­ì‹œì˜¤. 
- ì œí’ˆ, ì œí’ˆ ì•¡ì„¸ì„œë¦¬ ë° ëª¨ë“  ìë£Œë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ì´ì— ì ‘ê·¼í•˜ì—¬ ë°œìƒí•  ìˆ˜ ìˆëŠ” ëª¨ë“  ì†í•´ ìœ„í—˜ì€ ì‚¬ìš©ìê°€ ë¶€ë‹´í•©ë‹ˆë‹¤. ì£¼ì‹íšŒì‚¬ í•˜ì´ë³´ëŠ” ë³¸ ì œí’ˆì˜ ì‚¬ìš©ìœ¼ë¡œ ì¸í•œ ì§/ê°„ì ‘ì ìœ¼ë¡œ ë°œìƒí•œ ì¸ì /ë¬¼ì  í”¼í•´ í˜¹ì€ ë²•ì  ë¶„ìŸì— ëŒ€í•œ ì–´ë– í•œ ì±…ì„ë„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì‚¬ìš©ìëŠ” ë³¸ ì œí’ˆì„ ìì‹ ì˜ ì˜ì§€ë¡œ ì‚¬ìš©í•˜ê³ , ì œí’ˆì˜ ì‚¬ìš© ë˜ëŠ” ì‚¬ìš© ë¶ˆê°€ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ì¸ì /ë¬¼ì  í”¼í•´ í˜¹ì€ ì œ3ìì˜ ì¸ì /ë¬¼ì  í”¼í•´ì— ëŒ€í•´ ì±…ì„ì´ ìˆìŒì„ ì´í•´í•˜ê³  ì´ì— ë™ì˜í•©ë‹ˆë‹¤. ë¯¸ì—°ì˜ ì‚¬ê³ ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´, ì‚¬ìš©ìëŠ” ì œí’ˆ ê´€ë ¨ ìë£Œë¥¼ í¬í•¨í•˜ì—¬ ì•ˆì „í•˜ê³  ì ë²•í•œ ì‚¬ìš© ë°©ë²•ì„ ì¤€ìˆ˜í•´ì•¼ë§Œ í•©ë‹ˆë‹¤.

## 1-2. Warnings
- ì œí’ˆ ì‚¬ìš© ì „, ë°˜ë“œì‹œ ì•ˆì „ê·œì •ê³¼ ì‘ë™ ë°©ë²•ì„ ìˆ™ì§€í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. ë¶€ì ì ˆí•œ ì‚¬ìš©ë°©ë²•ì€ ì¥ë¹„ì— ë¬¸ì œë¥¼ ì¤„ ìˆ˜ ìˆìœ¼ë©°, ì˜¤ë™ì‘ì„ ì•¼ê¸°í•˜ì—¬ ìƒì²˜ë¥¼ ì…ê±°ë‚˜ ì¬ì‚° í”¼í•´ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì²˜ìŒ ì œí’ˆì„ ì‚¬ìš©í•˜ê¸° ì „ì— ì œí’ˆê³¼ ê´€ë ¨ëœ ìë£Œë¥¼ ë°˜ë“œì‹œ ìˆ™ì§€í•˜ì‹­ì‹œì˜¤.
- ì–´ë– í•œ ë°©ì‹ì´ë“  ì œí’ˆì„ ë¶„í•´í•´ì„œ ì‚¬ìš©, ê°œì¡°, ìˆ˜ë¦¬í•˜ì‹œë©´ ì•ˆ ë©ë‹ˆë‹¤. íŠ¹íˆ, ë ˆì´ì €ê°€ ì¶œë ¥ë˜ëŠ” ê´‘í•™ íŒŒíŠ¸ë¥¼ ë¶ˆë²• ê°œì¡°í•˜ê±°ë‚˜ ë³€ê²½ì‹œí‚¤ëŠ” ê²ƒì€ ì‹¬ê°í•œ ì•ˆêµ¬ ì†ìƒì„ ì•¼ê¸°í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê¸ˆì§€ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë§Œì•½, ì œí’ˆì˜ ì„±ëŠ¥ì„ ë‹¤ë¥´ê²Œ êµ¬ì„±í•´ì•¼ í•œë‹¤ë©´, ì œí’ˆì„ ê°œì¡°í•˜ì§€ ë§ˆì‹œê³  ì£¼ì‹íšŒì‚¬ í•˜ì´ë³´ ë³¸ì‚¬ë¡œ ì—°ë½í•˜ì—¬ ì œí’ˆ ì»¤ìŠ¤í…€ì— ëŒ€í•´ ìƒë‹´í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
- ê´‘í•™ ìœˆë„ìš°ê°€ íŒŒì†ëœ ìƒíƒœì—ì„œ ê°€ê¹Œìš´ ê³³ì—ì„œ ì œí’ˆ ë°”ë¼ë³¼ ê²½ìš° ì•ˆêµ¬ ì†ìƒì„ ì¼ìœ¼í‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, ì œí’ˆ ì‚¬ìš© ì „ ì œí’ˆ ì „ë©´(front)ì˜ ê´‘í•™ ìœˆë„ìš°ì˜ ìƒíƒœë¥¼ í™•ì¸í•˜ì‹­ì‹œì˜¤. ê´‘í•™ ìœˆë„ìš°ê°€ íŒŒì†ëœ ê²½ìš°ì—ëŠ” ì œí’ˆì„ ì‚¬ìš©í•˜ì§€ ë§ˆì‹œê³ , ë™ì‘ì¤‘ì¸ ì œí’ˆì€ ì¦‰ì‹œ ì „ì›ì„ ì°¨ë‹¨í•˜ì‹­ì‹œì˜¤. ë¶ˆê°€í”¼í•˜ê²Œ ê´‘í•™ ìœˆë„ìš°ê°€ íŒŒì†ëœ ì œí’ˆì— ê°€ê¹Œì´ ê°€ê²Œ ë  ê²½ìš° LASER CLASS 3Rì„ ëŒ€ë¹„í•  ìˆ˜ ìˆëŠ” ì•ˆêµ¬ ë³´í˜¸ ì¥ë¹„ë¥¼ ì°©ìš©í•˜ì‹­ì‹œì˜¤.
- ì œí’ˆ ì „ë©´ì˜ ê´‘í•™ ìœˆë„ìš°ê°€ íŒŒì†ëœ ê²½ìš°, ì œí’ˆì„ êµ¬ë™í•˜ì§€ ë§ˆì‹œê³  ë°˜ë“œì‹œ ì£¼ì‹íšŒì‚¬ í•˜ì´ë³´ A/S ì„¼í„°ë¡œ ì—°ë½í•˜ì—¬ ì¡°ì¹˜ë¥¼ ë°›ìœ¼ì‹­ì‹œì˜¤.
- ì œí’ˆ ì „ë©´ì˜ ê´‘í•™ ìœˆë„ìš°ë¥¼ ì†í†±, ë“œë¼ì´ë²„ ë“±ì˜ ë‚ ì¹´ë¡œìš´ ë¬¼ê±´ìœ¼ë¡œ ëˆ„ë¥´ì§€ ë§ˆì‹­ì‹œì˜¤. ê´‘í•™ ìœˆë„ìš°ì˜ ì°í˜ìœ¼ë¡œ ì¸í•œ ë°ë¯¸ì§€ëŠ” ì¸¡ì • ë°ì´í„° ë¶ˆëŸ‰ ë“±ì˜ ì œí’ˆ ì†ìƒì„ ì•¼ê¸°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³ , ì œí’ˆ ì „ë©´ì˜ ê´‘í•™ ìœˆë„ìš°ì— ë¬¼ë°©ìš¸, ë¨¼ì§€ ë“±ì˜ ì´ë¬¼ì§ˆì´ ë¬»ì€ ê²½ìš°, ë¶€ë“œëŸ¬ìš´ ì²œìœ¼ë¡œ ë‹¦ì•„ë‚´ì„œ ì²­ê²°í•œ ìƒíƒœë¥¼ ìœ ì§€í•˜ì‹­ì‹œì˜¤. ê´‘í•™ ìœˆë„ìš°ì˜ ì´ë¬¼ì§ˆì€ ì¸¡ì • ë°ì´í„° ë¶ˆëŸ‰ì„ ì•¼ê¸°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì œí’ˆ ì „ë©´ì˜ ê´‘í•™ ìœˆë„ìš°ë¥¼ ì»¤ë²„, ìŠ¤í‹°ì»¤ ë“±ìœ¼ë¡œ ê°€ë¦¬ì§€ ë§ˆì‹­ì‹œì˜¤. ì¸¡ì • ë°ì´í„° ë¶ˆëŸ‰ì„ ì•¼ê¸°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„¤ì¹˜ í˜•ì‹ì˜ ì œí’ˆ ì‚¬ìš©ì˜ ê²½ìš° ì„¤ì¹˜ ê°€ì´ë“œì— ëª…ì‹œëœ í‚µ-ì•„ì›ƒ-ì¡´ì„ ì°¸ê³ í•˜ì—¬ ì œí’ˆì„ ì„¤ì¹˜í•˜ì—¬ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.
- ì œí’ˆ ì „ë©´ì˜ ê´‘í•™ ìœˆë„ìš°ì˜ í‘œë©´ì—ëŠ” ë¯¸ì„¸í•œ êµ´ê³¡ ë° ìŠ¤í¬ë˜ì¹˜ê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” ì •ìƒì ì¸ í˜„ìƒì…ë‹ˆë‹¤.
- ì œí’ˆì„ ë°”ë‹¥ì— ë–¨ì–´ëœ¨ë¦¬ë©´ ì†ìƒì— ì˜í•œ ë¶ˆëŸ‰ì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì£¼ì˜í•˜ì‹­ì‹œì˜¤.
- I/O ì»¤ë„¥í„°ë¥¼ í†µí•´ 12VDC ì‚¬ìš©ì˜ ê²½ìš° ì˜¬ë°”ë¥¸ ì—°ê²°ì„ ìœ„í•´ ë°˜ë“œì‹œ í•€ë§µì„ í™•ì¸í•˜ì‹­ì‹œì˜¤. ì˜ëª»ëœ ì „ì› ì—°ê²°ì€ ì œí’ˆì˜ ê³ ì¥ì„ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ëª»ëœ ì—°ê²°ë¡œ ì•¼ê¸°ëœ ê³ ì¥ì€ ë³´ì¦ ì„œë¹„ìŠ¤ê°€ ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- ì£¼ì‹íšŒì‚¬ í•˜ì´ë³´ì—ì„œ ìŠ¹ì¸í•œ ì¼€ì´ë¸” ê·œê²©ì„ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤. ê·¸ë ‡ì§€ ì•Šì„ ê²½ìš° ì œí’ˆ ê³ ì¥ì„ ì•¼ê¸°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì‚¬ìš©í•˜ëŠ” ì¼€ì´ë¸” ë° ì»¤ë„¥í„°ê°€ ì –ì€ ìƒíƒœì—ì„œ ì—°ê²°ë  ê²½ìš° ì œí’ˆì´ ì†ìƒë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì œí’ˆ ë™ì‘ ì‹œ ê´‘ì› êµ¬ë™ì— ë”°ë¥¸ ë°œì—´ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤. ì¼ë°˜ì ì¸ ì‹¤ë‚´ í™˜ê²½ ê¸°ì¤€, ì œí’ˆ í›„ë©´ì˜ ì˜¨ë„ê°€ ì•½ 60 â„ƒ ì´ìƒìœ¼ë¡œ ì˜¬ë¼ê°ˆ ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” ì •ìƒì ì¸ í˜„ìƒì…ë‹ˆë‹¤. ì œí’ˆ í›„ë©´ì˜ ì˜¨ë„ê°€ ê³¼ë„í•˜ê²Œ ì˜¬ë¼ê°€ëŠ” ê²½ìš°, í›„ë©´ ë§ˆìš´íŠ¸ í™€ì„ í™œìš©í•˜ì—¬ ì—´ì „ë„ê°€ ê°€ëŠ¥í•œ ê¸ˆì† íŒ ë“±ì— ë¶€ì°©í•˜ì—¬ ì—´ì„ ë°°ì¶œí•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

## 1-3. Legal Notices
### 1-3-1. Laser Safety
- iTFS ì‹œë¦¬ì¦ˆëŠ” 940 nm íŒŒì¥ì˜ ì ì™¸ì„  ë¹„ê°€ì‹œê´‘ ë ˆì´ì € ê´‘ì›ì„ ì‚¬ìš©í•˜ëŠ” ì œí’ˆì…ë‹ˆë‹¤. ì´ì— ë”°ë¥¸ êµ­ì œ ê·œê²©ì¸ IEC 60825-1ì— ì¤€í•˜ëŠ” ëŒ€í•œë¯¼êµ­ í‘œì¤€ì¸ KS C IEC 60825-1:2014ì—ì„œ ê·œì •í•œ ë ˆì´ì € ì œí’ˆì˜ ì•ˆì •ì„± ë“±ê¸‰ ë¶„ë¥˜ ì¤‘, CLASS 1 ë“±ê¸‰ì— í•´ë‹¹í•˜ëŠ” ì œí’ˆì…ë‹ˆë‹¤.

![laser_safety](./images/laser.png)

- CLASS1 ë“±ê¸‰ì€ ì•ˆêµ¬ì— ì•ˆì „í•œ ê²ƒìœ¼ë¡œ ë¶„ë¥˜ë˜ëŠ” ë“±ê¸‰ì´ì§€ë§Œ, ì¥ì‹œê°„ ì§ì ‘ì ìœ¼ë¡œ ì „ë©´ì˜ ê´‘í•™ ìœˆë„ìš°(ë°œê´‘ë¶€)ë¥¼ ë³´ëŠ” ê²ƒì„ í”¼í•˜ê³ , ë‹¤ë¥¸ ê´‘í•™ ì¥ë¹„ë¥¼ ì‚¬ìš©í•´ì„œ ì „ë©´ì˜ ê´‘í•™ ìœˆë„ìš°(ë°œê´‘ë¶€)ë¥¼ ì£¼ì‹œí•˜ì§€ ë§ˆì‹­ì‹œì˜¤. 
- ì œí’ˆì˜ ì „ë©´ ê´‘í•™ ìœˆë„ìš°ê°€ ë¶„ë¦¬ë  ì‹œ CLASS 3R ë“±ê¸‰ì— í•´ë‹¹í•˜ëŠ” ìˆ˜ì¤€ì˜ ê´‘ë…¸ì¶œì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, ì£¼ì˜ í‘œì‹œë¥¼ ëª…ì‹¬í•˜ê³ , ê´‘í•™ ìœˆë„ìš° ë° ì „ë©´ ì»¤ë²„ë¥¼ ì ˆëŒ€ ë¶„í•´í•´ì„œ ì‚¬ìš©í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. 

### 1-3-2. Hot Surface Warning
- iTFS ì‹œë¦¬ì¦ˆëŠ” ê´‘ì› êµ¬ë™ìœ¼ë¡œ ì¸í•´ ì œí’ˆ ë™ì‘ ì‹œ ë°œì—´ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤. ì œí’ˆ í›„ë©´ì˜ ì˜¨ë„ê°€ ì•½ 60 â„ƒ(@ Room temperature)ê¹Œì§€ ì˜¬ë¼ê°ˆ ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” ì •ìƒì ì¸ í˜„ìƒì…ë‹ˆë‹¤. ì œí’ˆ í›„ë©´ì˜ ì˜¨ë„ê°€ ê³¼ë„í•˜ê²Œ ì˜¬ë¼ê°€ëŠ” ê²½ìš°, ì œí’ˆì„ ì§ì ‘ì ìœ¼ë¡œ ì†ìœ¼ë¡œ ë§Œì§€ë©´ ì €ì˜¨ í™”ìƒì˜ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, ì œí’ˆì˜ ì˜¨ë„ë¥¼ ì¸¡ì •í•˜ì—¬ ì ì • ìƒíƒœë¡œ ìœ ì§€í•˜ê³ , í•„ìš” ì‹œ í›„ë©´ ë§ˆìš´íŠ¸ í™€ì„ í™œìš©í•˜ì—¬ ì—´ì „ë„ê°€ ê°€ëŠ¥í•œ ê¸ˆì† íŒ ë“±ì— ë¶€ì°©í•˜ì—¬ ì—´ì„ ë°°ì¶œí•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

## 1-4. Certifications
- iTFS ì‹œë¦¬ì¦ˆëŠ” êµ­ë‚´ì™¸ ì „ìì œí’ˆì— ê´€í•œ ë²•ì  ì‚¬í•­ì„ ì¤€ìˆ˜í•˜ê³  ìˆìœ¼ë©°, ì•„ë˜ì™€ ê°™ì€ ì¸ì¦ì„ íšë“í•˜ì˜€ìŒì„ ì•Œë¦½ë‹ˆë‹¤.

![cert](./images/cert.png)

### 1-4-1. KC
- iTFS ì‹œë¦¬ì¦ˆëŠ” êµ­ë‚´ ë°©ì†¡í†µì‹ ê¸°ìì¬ë²•ì— ë”°ë¼ KC ì¸ì¦ì„ íšë“í•˜ì˜€ìŠµë‹ˆë‹¤. ì•„ë˜ì—ì„œ ê´€ë ¨ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![kc](./images/kc.png)

|   êµ¬ë¶„   |      ì í•©ì„± í‰ê°€ ì •ë³´       |
| :------: | :-------------------------: |
|   ìƒí˜¸   |       ì£¼ì‹íšŒì‚¬ í•˜ì´ë³´       |
|  ì œí’ˆëª…  |         iLidar-ToF          |
|  ëª¨ë¸ëª…  |     iTFS-110 / iTFS-80      |
| ì¸ì¦ë²ˆí˜¸ |      R-R-h2b-iTFS-110       |
| ì œì¡°ì—…ì²´ |       ì£¼ì‹íšŒì‚¬ í•˜ì´ë³´       |
| ì œì¡°êµ­ê°€ |          ëŒ€í•œë¯¼êµ­           |
| ì œì¡°ë…„ì›” | 0000ë…„ 00ì›”(í•˜ë“œ ì¹´í”¼ ì°¸ê³ ) |
| A/S ì„¼í„° |         02)597-4905         |

### 1-4-2. CE
- TBD

### 1-4-3. IEC 60825-1:2014
- iTFS ì‹œë¦¬ì¦ˆëŠ” 940-nm ëŒ€ì—­ì˜ ë ˆì´ì €ë¥¼ ì‚¬ìš©í•˜ëŠ” ëŠ¥ë™ ì„¼ì„œë¡œì¨, Eye-safetyë¥¼ ìœ„í•´ IEC 60825-1:2014 í‘œì¤€ì„ ì¤€ìˆ˜í•˜ì˜€ê³ , CB Schemeì— ë”°ë¼ êµ­ì œ ì¸ì¦ì„ íšë“í•˜ì˜€ìŠµë‹ˆë‹¤. ì•„ë˜ì—ì„œ ê´€ë ¨ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

| êµ¬ë¶„ | ë‚´ìš© |
| :--: | :--: |
| Report Number | CB2024-00128 |
| Date of issue | June 28, 2024 |
| Standard | IEC 60825-1:2014 |
| Test procedure | CB Scheme |
| Test item | Lidar |
| Manufacturer | HYBO |
| Model/Type reference | iTFS-110 |
| Ratings | (PoE) DC 48V, 12W(300mA) / (molex) 12VDC, 12W(1A) |
| Class | Class 1 laser product |

# 2. Sensor Overview
## 2-1. iLidar-ToF
- iLidar ToF: iTFSëŠ” 3D ê³ ì •í˜• ë¼ì´ë‹¤(3D Solid-state Lidar)ë¡œ, ì‹œì¤‘ì˜ ê¸°ì¡´ ë¼ì´ë‹¤ ì„¼ì„œì— ë¹„í•´ ë¹„ìš© íš¨ìœ¨ì ì¸ ì†”ë£¨ì…˜ì„ ì œê³µí•©ë‹ˆë‹¤. ì›€ì§ì´ëŠ” ë¶€í’ˆì´ ì—†ëŠ” ì†”ë¦¬ë“œ ìŠ¤í…Œì´íŠ¸ ì„¤ê³„ì™€ ê³ íš¨ìœ¨ ê´‘í•™ ì‹œìŠ¤í…œìœ¼ë¡œ ìµœëŒ€ 20 mì˜ ì¸¡ì • ë²”ìœ„ë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆëŠ” ê²ƒì´ íŠ¹ì§•ì…ë‹ˆë‹¤.
- iTFS ì‹œë¦¬ì¦ˆëŠ” ëª¨ë°”ì¼ ë¡œë´‡ì˜ ì¥ì• ë¬¼ íšŒí”¼ì™€ ì‚°ì—… í™˜ê²½ì˜ ìœ„í—˜ êµ¬ì—­ì—ì„œ ì‚¬ëŒì˜ ì¡´ì¬ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ì£¼ì°¨ì¥ì—ì„œ ì°¨ëŸ‰ ì¶œì…ì„ ê°ì§€í•˜ëŠ” ë“± ë‹¤ì–‘í•œ ìš©ë„ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- iTFS ì‹œë¦¬ì¦ˆì˜ ì£¼ìš” ì¥ì  ì¤‘ í•˜ë‚˜ëŠ” ê´‘í•™ ë¶€í’ˆì˜ ëª¨ë“ˆí™”ì…ë‹ˆë‹¤. ê´‘í•™ ëª¨ë“ˆì„ êµì²´í•˜ë©´ ì„¼ì„œì˜ í¼ íŒ©í„°ë¥¼ ìœ ì§€í•˜ë©´ì„œ ë‹¤ì–‘í•œ ì‚¬ì–‘ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì‚¬ìš©ìëŠ” ë‹¤ì–‘í•œ í™˜ê²½ê³¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë§ê²Œ ì„¼ì„œì˜ ì„±ëŠ¥ì„ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 2-2. Fundamentals of Indirect Time-of-Flight Sensors
- iLidar ToF: iTFSëŠ” indirect ToF (ì´í•˜ iToF) ë°©ì‹ì„ ì‚¬ìš©í•˜ì—¬ ê±°ë¦¬ë¥¼ ì¸¡ì •í•©ë‹ˆë‹¤. ì†¡ì‹ ë¶€ëŠ” ë ˆì´ì € ë‹¤ì´ì˜¤ë“œë¡œ ì§„í­ë³€ì¡°ì—°ì†íŒŒ(AMCW) ê´‘ì„ ìƒì„±í•˜ê³ , ì¸¡ì • ë¬¼ì²´ì—ì„œ ë°˜ì‚¬ëœ ë¹›ì´ ì„¼ì„œë¡œ ëŒì•„ì˜µë‹ˆë‹¤. ìˆ˜ì‹ ë¶€ì˜ ToF ì´ë¯¸ì§€ ì„¼ì„œì—ì„œëŠ” ì†¡ì‹ ë¶€ì˜ ì£¼íŒŒìˆ˜ì™€ ë™ì¼í•œ ì£¼íŒŒìˆ˜ë¡œ ë¹›ì„ ë””ì½”ë”© í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ, ì†¡ì‹ ë¶€ì™€ ìˆ˜ì‹ ë¶€ ì‚¬ì´ì˜ ë³€ì¡° ìœ„ìƒì°¨(Î”ğœƒ)ë¥¼ ê³„ì‚°í•˜ê³ , ë‹¤ìŒê³¼ ê°™ì´ ê±°ë¦¬ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤:
> $$d = \frac{c}{2} \cdot \frac{\Delta \theta}{2 \pi f}$$
- $f$ ëŠ” AMCW ì£¼íŒŒìˆ˜, $c$ ëŠ” ê´‘ì†, $d$ ëŠ” ë¬¼ì²´ì™€ì˜ ê±°ë¦¬ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.

![AMCW](./images/amcw.png)

## 2-3. Known Limitations
- iLidar ToF: iTFS ì„¼ì„œê°€ ê±°ë¦¬ì¸¡ì •ì— ì‚¬ìš©í•˜ëŠ” iToF ë°©ì‹ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì•Œë ¤ì§„ í•œê³„ì ì´ ìˆìŠµë‹ˆë‹¤. iTFS ì„¼ì„œì˜ ì‚¬ìš©ì— ìˆì–´ ê±°ë¦¬ì¸¡ì • ì˜¤ì°¨ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ì•„ë˜ ìš”ì¸ì„ ìˆ™ì§€í•˜ê³  ì‚¬ìš©í•˜ì—¬ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

### 2-3-1. Multi-Path Error
- iToF ë°©ì‹ì˜ ê±°ë¦¬ ì¸¡ì •ì— ìˆì–´ ì•Œë ¤ì§„ í•œê³„ ì¤‘ í•˜ë‚˜ëŠ” ë‹¤ì¤‘ ê²½ë¡œ ì˜¤ì°¨ (Multi-path error) ê°€ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ ë°œê´‘ë¶€ì—ì„œ ë¬¼ì²´ì— ë°˜ì‚¬ë˜ì–´ ëŒì•„ì˜¤ëŠ” ë¹› ì¤‘ ë¬¼ì²´ì— 1ë²ˆ ë°˜ì‚¬ê°€ ì¼ì–´ë‚˜ ëŒì•„ì˜¤ëŠ” ê´‘ê²½ë¡œì™€ 2ë²ˆ ë°˜ì‚¬ê°€ ì¼ì–´ë‚˜ ëŒì•„ì˜¤ëŠ” ê´‘ê²½ë¡œê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš°, ToF ì´ë¯¸ì§€ ì„¼ì„œì—ì„œ ì¸¡ì •í•˜ëŠ” ê±°ë¦¬ê°’ì´ ì‹¤ì œ í•´ë‹¹ ë°©í–¥ìœ¼ë¡œì˜ ê±°ë¦¬ ë³´ë‹¤ ì»¤ì§€ëŠ” ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë˜í•œ, ì„¼ì„œ ì•ì— ìœ ë¦¬ ë“±ì˜ íˆ¬ëª…í•œ ë¬¼ì²´ë¥¼ í†µí•´ ë¬¼ì²´ë¥¼ ë³¼ ê²½ìš°, ìœ ë¦¬ë¥¼ í†µê³¼í•œ ê´‘ê²½ë¡œì™€ ë¬¼ì²´ë¥¼ í†µê³¼í•œ ê´‘ê²½ë¡œì˜ ì˜í–¥ì´ í•©ì³ì ¸, í•´ë‹¹ ë°©í–¥ì˜ ê¹Šì´ ê°’ì´ ìœ ë¦¬ì™€ ë¬¼ì²´ ì‚¬ì´ë¡œ ì¸¡ì •ë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![mp](./images/mp.png)

### 2-3-2. Scattering
- ìŠ¤ìºí„°ë§ í˜„ìƒì€ iToF ì„¼ì„œì˜ ìˆ˜ê´‘ë¶€ ë‚´ë¶€ì—ì„œ ë¹›ì´ ë°˜ì‚¬ë˜ì–´ ë°œìƒí•˜ëŠ” í˜„ìƒì…ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ iToF ì„¼ì„œì˜ ë§¤ìš° ê°€ê¹Œì´ì— ë¬¼ì²´ê°€ ìˆê±°ë‚˜, ê±°ìš¸ê³¼ ê°™ì´ ë°˜ì‚¬ìœ¨ì´ ë†’ì€ ë¬¼ì²´ê°€ ìˆëŠ” ê²½ìš° ìŠ¤ìºí„°ë§ í˜„ìƒì´ ë°œìƒí•´ ê¹Šì´ ê°’ì— ëŒ€í•œ ì˜¤ì°¨ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤. íŠ¹íˆ, ë¨¼ ë¬¼ì²´ì˜ ì•½í•œ ì‹ í˜¸ì™€ ê°€ê¹Œìš´ ë¬¼ì²´ì˜ ì‚°ë€ìœ¼ë¡œ ì¸í•œ ì‹ í˜¸ê°€ ê°„ì„­ì„ ì¼ìœ¼ì¼œ, ì›ê²½ ë¬¼ì²´ì˜ ê±°ë¦¬ê°€ ì‹¤ì œë³´ë‹¤ ê°€ê¹Œì›Œ ë³´ì´ëŠ” í˜„ìƒì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

![scatter](./images/scatter.png)

## 2-4. Specifications
### 2-4-1. Differences by model
|      Features       |   iTFS-110    |    iTFS-80    |
| :-----------------: | :-----------: | :-----------: |
|   Range (mode 1)    | 0.30 ~  8.0 m | 0.30 ~ 10.0 m |
|   Range (mode 2)    | 0.05 ~ 12.0 m | 0.05 ~ 15.0 m |
|   Range (mode 3)    | 0.05 ~ 16.0 m | 0.05 ~ 20.0 m |
| Resolution (mode 1) |  0.4Â° Ã— 0.4Â°  |  0.3Â° Ã— 0.3Â°  |
| Resolution (mode 2) |  0.4Â° Ã— 0.8Â°  |  0.3Â° Ã— 0.6Â°  |
| Resolution (mode 3) |  0.8Â° Ã— 0.8Â°  |  0.6Â° Ã— 0.6Â°  |
|         FoV         |  110Â° Ã— 60Â°   |   80Â° Ã— 45Â°   |
- On-the-fly configuration available (mode, framerate, and output data)
- Range: Measured at centered ROI by using 80% diffuse-reflective target
- FoV: Range-guaranteed scope. Working horizontal FoVs are 120Â° and 90Â° for iTFS-110 and iTS-80 respectively.

### 2-4-2. Commonalities
|     Features      |                    iTFS-110 & iTFS-80                    |
| :---------------: | :------------------------------------------------------: |
|     Accuracy      |   Error level: Â± (3~5 cm + 2% of distance measurement)   |
|     Framerate     | Typ. 12.5 Hz (Up to 20 Hz with heatsink and reduced RoI) |
|    Dimensions     |               115.0 mm Ã— 46.0 mm Ã— 31.5 mm               |
|      Weight       |                         200.0 g                          |
|       Power       |         Avg. 6.0 W / Max. 12.0 W (12VDC or PoE)          |
|     Interface     |                UDP (RJ-45) / UART (Molex)                |
|      Output       |                Depth and Intensity Images                |
|   Certification   | IEC 60825-1:2014, KC(R-R-h2b-iTFS-110), CE(Comming soon) |
| Sunlight Immunity |       ~ 33 klux (80% ranging performance @ mode2)        |
|   Illumination    |                     940-nm IR Laser                      |
|    Eye safety     |           CLASS 1 (based on IEC 60825-1:2014)            |

# 3. Mechanical Parts
## 3-1. What's in the box?

![box](./images/box.png)

- íŒ¨í‚¤ì§€ í¬ì¥ì˜ ì œí’ˆì„ êµ¬ë§¤ ì‹œ, ìœ„ì™€ ê°™ì´ 3ê°€ì§€ ë¬¼í’ˆê³¼ í’ˆì§ˆë³´ì¦ì„œë¥¼ í•¨ê»˜ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤.
- **iTFS-110 1 ëŒ€ (ë˜ëŠ” iTFS-80 1 ëŒ€):** ë¼ì´ë‹¤ ë³¸í’ˆìœ¼ë¡œ, ì œí’ˆì„ ë®ê³  ìˆëŠ” ë³´í˜¸ í…Œì´í”„ë¥¼ ë°˜ë“œì‹œ ì œê±°í•˜ê³  ì‚¬ìš©í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
- **LAN ì¼€ì´ë¸” 1m, 1 ê°œ:** ë¼ì´ë‹¤ ë°ì´í„° ìˆ˜ì‹ ì„ ìœ„í•œ LAN ì¼€ì´ë¸”ì…ë‹ˆë‹¤. iTFS ì‹œë¦¬ì¦ˆëŠ” 100 Mbps ì´ìƒì˜ í†µì‹  ì†ë„ë¥¼ ìš”êµ¬í•©ë‹ˆë‹¤. ë”°ë¼ì„œ, ë°˜ë“œì‹œ CAT.5 ì´ìƒì˜ UTP ì¼€ì´ë¸”ì„ ì‚¬ìš©í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. ê¸°ë³¸ìœ¼ë¡œ ì œê³µë˜ëŠ” LAN ì¼€ì´ë¸”ì˜ ê²½ìš°, CAT.5e UTP ì¼€ì´ë¸”ì…ë‹ˆë‹¤. PoEë¥¼ ì‚¬ìš©í•˜ì—¬ ë¼ì´ë‹¤ ì „ì› ê³µê¸‰ ì‹œ ì¶”ê°€ì ì¸ ë¼ì¸ ì—°ê²°ì€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- **Molex ì»¤ë„¥í„° 30cm, 1ê°œ:** ë¶€ê°€ì ì¸ ê¸°ëŠ¥ ì œê³µ ì¼€ì´ë¸”ë¡œ, PoEë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  12VDCë¥¼ ì§ì ‘ ì¸ê°€í•  ìˆ˜ ìˆëŠ” ë‹¨ìì— ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì¼€ì´ë¸”ì…ë‹ˆë‹¤. ë˜í•œ, Trigger/Strobe ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ê¸°ë³¸ìœ¼ë¡œ ì œê³µë˜ëŠ” ì»¤ë„¥í„°ì˜ Part numberëŠ” Molex 51021-0600ì´ë©°, 22 AWGì´ìƒì˜ ë‚œì—°ì „ì„ ì´ í¬í•¨ëœ í•˜í”„-ì»· í˜•íƒœ ì¼€ì´ë¸”ì„ í¬í•¨í•©ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì§ì ‘ ì¼€ì´ë¸”ì„ êµ¬ì„± ì‹œ, í•´ë‹¹ ì •ë³´ë¥¼ í™•ì¸í•˜ì—¬ í˜¸í™˜ ì—¬ë¶€ë¥¼ íŒë³„í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

## 3-2. Mechanical Drawing

![drawing](./images/drawing.png)

- iTFS ì‹œë¦¬ì¦ˆì˜ ì œí’ˆ í¬ê¸° ë° ëª…ì¹­ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. (ë‹¨ìœ„: mm)
1. ê´‘í•™ ìœˆë„ìš° (ë°œê´‘ë¶€)
1. ê´‘í•™ ìœˆë„ìš° (ìˆ˜ê´‘ë¶€)
1. ë§ˆìš´íŠ¸ìš© ë‚˜ì‚¬ í™€, M3 4-mm depth
1. ë°ì´í„° RJ45 ì»¤ë„¥í„°, PoE ì§€ì›
1. I/O ì»¤ë„¥í„°, Molex pico-blade 6-pos
- ì œí’ˆì˜ í™œìš©ì„ ìœ„í•œ [3D CAD ëª¨ë¸(STL)](https://www.ilidar.io/)ì´ ê³µê°œë˜ì–´ ìˆìœ¼ë‹ˆ í™œìš©í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤.

## 3-3. Installation Guidelines
- iTFS ì‹œë¦¬ì¦ˆë¥¼ ì„¤ì¹˜í•  ë•Œ ìµœëŒ€ ì„±ëŠ¥ì„ ë°œíœ˜í•˜ê¸° ìœ„í•´ì„œ, ë‹¤ìŒê³¼ ê°™ì´ ëª¨ë¸ëª…ì— ë”°ë¥¸ í‚µ-ì•„ì›ƒ ì¡´(Keep-out zone)ì„ ìœ ì˜í•˜ì—¬ ì„¤ì¹˜í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. (ë‹¨ìœ„: mm)

![keep-out](./images/keep-out.png)

- ì œí’ˆì˜ í›„ë©´ì— ì œí’ˆ ë§ˆìš´íŠ¸ë¥¼ ìœ„í•œ ë‚˜ì‚¬ í™€(M3, 4-mm depth)ì„ ì œê³µí•©ë‹ˆë‹¤. ì•„ë˜ì˜ ë‚˜ì‚¬ í™€ ìœ„ì¹˜ë¥¼ ì°¸ê³ í•˜ì—¬ ì„¤ê³„ì— ë°˜ì˜í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

![back](./images/back.png)

# 4. Electrical Connection
## 4-1. Pinout
- iTFS ì‹œë¦¬ì¦ˆëŠ” RJ45 ì»¤ë„¥í„°ì™€ 6í•€ Molex pico-bladeë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. RJ45 í¬íŠ¸ëŠ” ì „ì› ê³µê¸‰ (PoE) ë° ë°ì´í„° ì „ì†¡ì— ì‚¬ìš©ë©ë‹ˆë‹¤. 6í•€ Molex pico-bladeëŠ” ì „ì› ê³µê¸‰ (12V DC) ë° TRIGGER/STROBE ê¸°ëŠ¥ì— ì‚¬ìš© ë©ë‹ˆë‹¤.

![pinout](./images/pinout.png)

- iTFSì˜ RJ45 í¬íŠ¸ëŠ” PoE ë° PoE+ ê·œê²©ì„ ì§€ì›í•©ë‹ˆë‹¤. PoE ê¸°ëŠ¥ì„ í†µí•œ ì „ì› ê³µê¸‰ ì‹œ, ì „ì› ê³µê¸‰ ì¥ì¹˜ê°€ **IEEE802.3af/at** í‘œì¤€ì„ ë§Œì¡±í•˜ëŠ”ì§€ í™•ì¸í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
- Molex I/O í•€ì˜ ì—°ê²° ì •ë³´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

| Pin |  Name   | I/O |      Rating / Description      |
| :-: | :-----: | :-: | :----------------------------: |
|  1  |  12VDC  |  I  | 12V (Min. 11.6 V, Max. 12.4 V) |
|  2  |  12VDC  |  I  | 12V (Min. 11.6 V, Max. 12.4 V) |
|  3  | TRIGGER |  I  |  TTL (Typ. 3.3 V, Max. 5.0 V)  |
|  4  | STROBE  |  O  |          TTL (3.3 V)           |
|  5  |   GND   |  I  |              GND               |
|  6  |   GND   |  I  |              GND               |

## 4-2. Power
- iTFS ì‹œë¦¬ì¦ˆëŠ” í‰ê·  6 W, ìµœëŒ€ 12 Wì˜ ì „ë ¥ì„ ì†Œëª¨í•˜ì—¬ ë™ì‘í•˜ë©°, ì‚¬ìš©ì— í¸ì˜ì„±ì„ ìœ„í•´ ì „ì›ì´ ì¼ì²´í™” ëœ PoE ì „ì› ê³µê¸‰ê³¼ 12VDC ë‹¨ìë¥¼ í†µí•œ ì§ì ‘ ì „ì› ê³µê¸‰ ë°©ì‹ì„ ì œê³µí•©ë‹ˆë‹¤. ë‘ê°€ì§€ ë°©ì‹ ì¤‘ ì„ í˜¸í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì œí’ˆì˜ ì „ì› ë° LAN ì¼€ì´ë¸”ì„ ì—°ê²°í•˜ì—¬ ì œí’ˆì„ êµ¬ë™í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. (ë‹¨, PoE ê¸°ëŠ¥ì„ ì‚¬ìš© ì‹œ ì„¼ì„œ ì „ì²´ ì˜¨ë„ê°€ 12VDC ì „ì› ëŒ€ë¹„ ì•½ 4ë„ ì •ë„ ë” ë†’ì•„ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.)
  - **PoE:** RJ45 í¬íŠ¸ë¥¼ ì´ìš©, PoE ë° PoE+ ê·œê²© ì§€ì›
  - **12VDC:** 6-pin Molex pico-bladeë¥¼ í†µí•´ ê³µê¸‰

### 4-2-1. Connection Example with PoE
- PoE ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ” ëœ ìŠ¤ìœ„ì¹˜ í˜¹ì€ PoE ì¸ì í„°ë¥¼ ì‚¬ìš©í•˜ë©´ PoE ê¸°ëŠ¥ì„ í†µí•œ ì „ì› ê³µê¸‰ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì•„ë˜ì˜ ì—°ê²°ë„ë¥¼ í™•ì¸í•˜ì—¬ ì œí’ˆì„ êµ¬ì„±í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. (PoEë¥¼ ì‚¬ìš©í•˜ì—¬ ë¼ì´ë‹¤ ì „ì› ê³µê¸‰ ì‹œ ì¶”ê°€ì ì¸ ë¼ì¸ ì—°ê²°ì€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤)

![poe](./images/poe.png)

### 4-2-2. Connection Example with 12VDC
- Molex ì»¤ë„¥í„°ë¥¼ í†µí•´ 12VDCë¥¼ ì—°ê²°í•˜ì—¬ ì „ì›ì„ ê³µê¸‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ì˜ ì—°ê²°ë„ë¥¼ í™•ì¸í•˜ì—¬ ì œí’ˆì„ êµ¬ì„±í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

![vdc](./images/vdc.png)

# 5. Sensor Operation
## 5-1. Network Configuration
- iTFS ì„¼ì„œëŠ” UDP í†µì‹ ì„ í†µí•´ ì—°ê²°ëœ ì¥ì¹˜ì™€ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ìœ¼ë©°, ì—°ê²°ëœ PC í˜¹ì€ ì¥ì¹˜ì˜ ì£¼ì†Œê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ ì •ìƒì ì¸ ë°ì´í„° ìˆ˜ì‹ ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´, iTFS ì„¼ì„œì™€ ì—°ê²°ëœ LAN í¬íŠ¸ì˜ IP ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ëŠ” OSì— ë”°ë¼ ë‹¤ìŒê³¼ ê°™ì´ ë°”ê¾¸ì–´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤. ì•„ë˜ì— ê¸°ì¬ëœ IP ì£¼ì†ŒëŠ” ì„¼ì„œì˜ ì´ˆê¸° ì„¤ì •ì— ë”°ë¥¸ ì„¤ì •ì´ë¯€ë¡œ, ì„¼ì„œì˜ IP ì£¼ì†Œ ì„¤ì •ì´ ë°”ë€ ê²½ìš° í•´ë‹¹ IP ì£¼ì†Œê°’ì„ ê¸°ì…í•˜ë©´ ë©ë‹ˆë‹¤.

### 5-1-1. Windows
- iTFS ì„¼ì„œê°€ ì—°ê²°ëœ ì´ë”ë„· ì¥ì¹˜ì˜ ë„¤íŠ¸ì›Œí¬ ì†ì„± ì„¤ì •ì„ ì—½ë‹ˆë‹¤. ì¸í„°ë„· í”„ë¡œí† ì½œ ë²„ì „ 4 (TCP/IPv4)ì„ ì„ íƒí•˜ê³ , IP ì£¼ì†Œì™€ ì„œë¸Œë„· ë§ˆìŠ¤í¬ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
> IP Address: `192.168.5.2`
> Subnet Mask: `255.255.255.0`
- Windows í™˜ê²½ì—ì„œ ì²˜ìŒìœ¼ë¡œ iTFS ê´€ë ¨ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²½ìš°, ë‹¤ìŒê³¼ ê°™ì€ Windows ë³´ì•ˆ ê²½ê³  ì•ˆë‚´ì°½ì´ í‘œì‹œë©ë‹ˆë‹¤. ì´ëŠ” iTFS ì„¼ì„œê°€ UDP í†µì‹ ì„ í†µí•´ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ê¸°ì— í‘œì‹œë˜ëŠ” ì°½ì´ë©°, ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ ëª¨ë“  í†µì‹ ì„ í—ˆìš©í•´ ì£¼ì–´ì•¼ ì •ìƒì ì¸ ì‹¤í–‰ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤ (Windows ë²„ì „ì— ë”°ë¼ ì„¤ì •ì°½ì˜ ëª¨ìŠµì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ).

![connect](./images/connect.png)

### 5-1-2. Linux(Ubuntu)
- iTFS ì„¼ì„œê°€ ì—°ê²°ëœ LAN í¬íŠ¸ì˜ ì„¤ì •ìœ¼ë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤. IPv4 íƒ­ì—ì„œ ìˆ˜ë™ìœ¼ë¡œ ì„¤ì •ì„ ì„ íƒí•˜ê³ , IP ì£¼ì†Œì™€ ì„œë¸Œë„· ë§ˆìŠ¤í¬ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
> IP Address: `192.168.5.2`
> Subnet Mask: `255.255.255.0`

## 5-2. iViewer:Simple iLidar Data Viewer
- iViewerëŠ” iLidar-ToF ì„¼ì„œë¥¼ ìœ„í•œ ì‹¤ì‹œê°„ ë°ì´í„° ë·°ì–´ì…ë‹ˆë‹¤. iViewerë¥¼ í†µí•´ ì„¼ì„œ ì—°ê²°, ì¸¡ì •ë°ì´í„° í™•ì¸ ë° ì„¼ì„œ íŒŒë¼ë¯¸í„° ì„¤ì •ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ìµœì‹  ë²„ì „ì˜ iViewerëŠ” [iLidar-ToF Github](https://github.com/ilidar-tof/iviewer) í˜ì´ì§€ì—ì„œ ë‹¤ìš´ë¡œë“œ ë°›ìœ¼ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

# 6. Packets and Parameters
## 6-1. Basic Packet Structure
- iTFS ì„¼ì„œì™€ ì—°ê²°ëœ ì¥ì¹˜ëŠ” UDP í†µì‹ ì„ í†µí•´ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ìŠµë‹ˆë‹¤. ì´ë•Œ ì‚¬ìš©ë˜ëŠ” íŒ¨í‚·ì˜ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. Index ì™€ Size ì˜ ë‹¨ìœ„ëŠ” Byte ì…ë‹ˆë‹¤.

|  Name   | Index | Size |  Type  | Value | Description    |
| :-----: | :---: | :--: | :----: | :---: | :------------- |
|  STX0   |   0   |  1   | uint8  | 0xA5  | Preamble       |
|  STX1   |   1   |  1   | uint8  | 0x5A  | Preamble       |
|   ID    |   2   |  2   | uint16 |   -   | Packet ID      |
|   LEN   |   4   |  2   | uint16 |   N   | Payload Length |
| PAYLOAD |   6   |  N   |   -    |   -   | Data Field     |
|  ETX0   |  N+6  |  1   | uint8  | 0xA5  | Postamble      |
|  ETX1   |  N+7  |  1   | uint8  | 0x5A  | Postamble      |

- **STX**: íŒ¨í‚·ì˜ ì‹œì‘ì„ ì•Œë¦¬ëŠ” ì‹ í˜¸ì…ë‹ˆë‹¤.
- **ID**: íŒ¨í‚·ì˜ ì¢…ë¥˜ë¥¼ ì•Œë¦¬ëŠ” IDì…ë‹ˆë‹¤.
- **LEN**: IDì— ë”°ë¥¸ PAYLOADì˜ ê¸¸ì´(Byteì˜ ìˆ˜)ë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤.
- **PAYLOAD**: ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” ë¶€ë¶„ìœ¼ë¡œ, íŒ¨í‚·ì˜ IDì— ë”°ë¼ ë‹¤ë¥¸ ì •ë³´ë¥¼ ë‹´ê³  ìˆìŠµë‹ˆë‹¤. ê° IDì— ë”°ë¥¸ **PAYLOAD** ì •ë³´ëŠ” ì†Œë‹¨ì›ì„ ì°¸ê³ í•˜ì—¬ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
- **ETX**: íŒ¨í‚·ì˜ ì¢…ë£Œë¥¼ ì•Œë¦¬ëŠ” ì‹ í˜¸ì…ë‹ˆë‹¤.

## 6-2. List of ID
- Basic Packet Structureì—ì„œ ID í•„ë“œì— ì‚¬ìš©ë˜ëŠ” IDì˜ ë¦¬ìŠ¤íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
  
|    Name     |   ID   | LEN  |    Direction    | Description                        |
| :---------: | :----: | :--: | :-------------: | :--------------------------------- |
|     IMG     | 0x0000 | 1282 | Sensor â†’   User | Image Data (Depth and Intensity)   |
|   STATUS    | 0x0010 |  28  | Sensor â†’   User | Sensor Operation Status            |
| STATUS_FULL | 0x0011 | 312  | Sensor â†’   User | Sensor Operation Status (extended) |
|    INFO     | 0x0020 | 110  | Sensor â†”   User | Sensor Information                 |
|   INFO_V2   | 0x0021 | 166  | Sensor â†”   User | Sensor Information (V2)            |
|     CMD     | 0x0030 |  4   | Sensor â†   User | Command Packet                     |
|  SYNC_ACK   | 0x0012 |  26  | Sensor â†’   User | Sensor Synchronization Status      |
  
## 6-3. IMG Packet
- IMG íŒ¨í‚·ì€ ì„¼ì„œì—ì„œ ì´¬ì˜ëœ ê¹Šì´ í˜¹ì€ ì¸í…ì‹œí‹° ì´ë¯¸ì§€ë¥¼ ì „ë‹¬í•˜ëŠ” íŒ¨í‚·ìœ¼ë¡œ, ì„¼ì„œì—ì„œ ìœ ì €ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤. ì„¼ì„œì—ì„œ ì´¬ì˜ëœ ì´ë¯¸ì§€ëŠ” ëª‡ ì¤„ ë‹¨ìœ„ë¡œ ì „ë‹¬ì´ ë©ë‹ˆë‹¤. IMG íŒ¨í‚·ì˜ PAYLOADëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
- IMG íŒ¨í‚·ì„ ì´ìš©í•˜ì—¬ ì „ì²´ ì´ë¯¸ì§€ë¥¼ ì–»ëŠ” ë°©ë²•ì€ [7. How to Handle Image and Point Cloud](#7-how-to-handle-image-and-point-cloud)ì„ ì°¸ê³ í•˜ì—¬ ì£¼ì‹­ì‹œì˜¤.

|   Name    | Index | Size |  Type  |
| :-------: | :---: | :--: | :----: |
| row_index |   0   |  1   | uint8  |
|  mframe   |   1   |  1   | uint8  |
|  data[0]  |   2   |  2   | uint16 |
|  data[1]  |   4   |  2   | uint16 |
|     â‹¯     |   â‹¯   |  â‹¯   |   â‹¯    |
| data[639] | 1280  |  2   | uint16 |

- **row_index**: ì„¼ì„œì—ì„œ ì´¬ì˜ëœ ì´ë¯¸ì§€ëŠ” ëª‡ ì¤„ ë‹¨ìœ„ë¡œ ì „ë‹¬ì´ ë˜ë©°, ì´ë•Œ íŒ¨í‚·ì´ ì´ë¯¸ì§€ì˜ ëª‡ ë²ˆì§¸ ìˆœì„œì¸ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤.
- **mframe**: í˜„ì¬ íŒ¨í‚·ì˜ ì´¬ì˜ ëª¨ë“œ ë° í”„ë ˆì„ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì•„ë˜ í‘œì™€ ê°™ì´ ë¹„íŠ¸ì— ë”°ë¥¸ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

| Bit  | 7:6 (2 bits) |    5:0 (6 bits)     |
| :--: | :----------: | :-----------------: |
| Data | capture_mode | capture_frame_short |

  - **capture_mode**: ì„¼ì„œì˜ ì´¬ì˜ ëª¨ë“œë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤.
  - **capture_frame_short**: ëª‡ ë²ˆì§¸ ì´¬ì˜ í”„ë ˆì„ì¸ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤. 0~63 ê¹Œì§€ ì¦ê°€ í›„ ë‹¤ì‹œ 0 ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.

- **data**: ê° í”½ì…€ì— í•´ë‹¹í•˜ëŠ” ê¹Šì´ ì´ë¯¸ì§€ í˜¹ì€ ì¸í…ì‹œí‹° ì´ë¯¸ì§€ì— í•´ë‹¹í•˜ëŠ” ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤. ê¹Šì´ê°’ì˜ ë‹¨ìœ„ëŠ” [mm] ì…ë‹ˆë‹¤.

## 6-4. STATUS Packet
- STATUS íŒ¨í‚·ì€ ì„¼ì„œì˜ í˜„ì¬ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ë©°, ì„¼ì„œì—ì„œ ìœ ì €ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤. STATUS íŒ¨í‚·ì˜ PAYLOADëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

|        Name         | Index | Size |  Type  | Descrption                                                  |
| :-----------------: | :---: | :--: | :----: | :---------------------------------------------------------- |
|    capture_mode     |   0   |  1   | uint8  | Mode, 0 = GRAY, 1 = MODE1(NB), 2 = MODE2(VB), 3 = MODE3(HV) |
|    capture_frame    |   1   |  1   | uint8  | Frame number, repeats 0 ~ 255                               |
|      sensor_sn      |   2   |  2   | uint16 | Serial number                                               |
|   sensor_time_th    |   4   |  8   | uint64 | Sensor time in *ms*                                         |
|   sensor_time_tl    |  12   |  2   | uint16 | Sensor time in *us*                                         |
| sensor_frame_status |  14   |  2   | uint16 | Sensor status flag for depth image                          |
|   sensor_temp_rx    |  16   |  2   | int16  | Sensor RX temperature in 100* *C*                           |
|  sensor_temp_core   |  18   |  2   | int16  | Sensor core temperature in 100* *C*                         |
| sensor_vcsel_level  |  20   |  2   | int16  | Sensor VCSEL voltage in 100* *V*                            |
| sensor_power_level  |  22   |  2   | int16  | Sensor internal power voltage in 100* *V*                   |
|   sensor_warning    |  24   |  4   | uint32 | Sensor warning flag                                         |

- **capture_mode**: ì„¼ì„œì˜ ì´¬ì˜ ëª¨ë“œë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤.

| Mode | capture_mode | Max. Resolution | Description                             |
| :--: | :----------: | :-------------: | :-------------------------------------- |
| Gray |      0       |     320x240     | 940 nm gray camera without illumination |
|  NB  |      1       |     320x160     | No binning                              |
|  VB  |      2       |     320x80      | Vertical binning                        |
|  HV  |      3       |     160x80      | Horizontal and Vertical binning         |

- **capture_frame**: ëª‡ ë²ˆì§¸ ì´¬ì˜ í”„ë ˆì„ì¸ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤. 0 ~ 63 ê¹Œì§€ ì¦ê°€ í›„ ë‹¤ì‹œ 0 ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.
- **sensor_sn**: ì„¼ì„œì˜ ì‹œë¦¬ì–¼ ë„˜ë²„ë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤.
- **sensor_time_th**, **sensor_time_tl**: ì„¼ì„œì˜ ë™ì‘ ì‹œê°„ì„ ì•Œë ¤ì¤ë‹ˆë‹¤. **sensor_time_th** ëŠ” **ms**, **sensor_time_tl** ì€ ë‚˜ë¨¸ì§€ ê°’ì¸ **us** ë‹¨ìœ„ì´ë©°, ì •í™•í•œ ë™ì‘ ì‹œê°„ì„ ë‹¤ìŒ ìˆ˜ì‹ì„ í†µí•´ **us** ë‹¨ìœ„ë¡œ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> $${\text{sensor time in us}} = {\text{sensor time th}} \times 1000 +{\text{sensor time tl}}$$
- **sensor_frame_status**: ì„¼ì„œì˜ í”„ë ˆì„ ìƒíƒœë¥¼ ì•Œë ¤ì£¼ëŠ” í•„ë“œì…ë‹ˆë‹¤. (Reserved)
- **sensor_temp_rx**, **sensor_temp_core**: ì„¼ì„œì˜ ì´ë¯¸ì§€ ì†Œì ë° ì½”ì–´ ì˜¨ë„ ì •ë³´ë¥¼ ë‹´ê³  ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ê°’ì„ 100ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì‹¤ì œ ì„­ì”¨ ì˜¨ë„(C)ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **sensor_vcsel_level**, **sensor_power_level**: ì„¼ì„œì˜ ë ˆì´ì € ì „ì•• ë° ì „ì› ì „ì•• ì •ë³´ë¥¼ ë‹´ê³  ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ê°’ì„ 100ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì‹¤ì œ ì „ì•• ê°’(V)ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **sensor_warning**: ì„¼ì„œ ì´ìƒì„ ì•Œë ¤ì£¼ëŠ” warning flag ì •ë³´ì…ë‹ˆë‹¤.

## 6-5. STATUS_FULL Packet
- STATUS íŒ¨í‚·ì€ ì„¼ì„œì˜ í˜„ì¬ ìƒíƒœë¥¼ ìƒì„¸í•˜ê²Œ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. STATUS_FULL íŒ¨í‚·ì˜ PAYLOADëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

|        Name         | Index |  size  |   Type   | Descrption                                                      |
| :-----------------: | :---: | :----: | :------: | :-------------------------------------------------------------- |
|    capture_mode     |   0   |   1    | uint8_t  | Mode, 0 = GRAY, 1 = MODE1(NB), 2 = MODE2(VB), 3 = MODE3(HV)     |
|    capture_frame    |   1   |   1    | uint8_t  | Frame number, repeats 0 ~ 63                                    |
|      sensor_sn      |   2   |   2    | uint16_t | Serial number                                                   |
|   sensor_time_th    |   4   |   8    | uint64_t | Sensor time in *ms*                                             |
|   sensor_time_tl    |  12   |   2    | uint16_t | Sensor time in *us*                                             |
| sensor_frame_status |  14   |   2    | uint16_t | Sensor status flag for depth image                              |
|   sensor_temp_rx    |  16   |   2    | int16_t  | Sensor RX temperature in 100* *C*                               |
|  sensor_temp_core   |  18   |   2    | int16_t  | Sensor core temperature in 100* *C*                             |
|     sensor_temp     |  20   |  2x4   | int16_t  | Sensor housing temperature in 100* *C*                          |
| sensor_vcsel_level  |  28   |   2    | int16_t  | Sensor VCSEL voltage in 100* *V*                                |
|   sensor_vcsel_on   |  30   | 2x4x16 | int16_t  | Sensor VCSEL dynamic voltage for debugging in 100* *V*          |
| sensor_power_level  |  158  |   2    | int16_t  | Sensor internal power voltage in 100* *V*                       |
|   sensor_power_on   |  160  | 2x4x16 | int16_t  | Sensor internal power dynamic voltage for debugging in 100* *V* |
|    sensor_level     |  288  |  2x10  | int16_t  | Sensor internal voltage for debugging in 100* *V*               |
|   sensor_warning    |  308  |   4    | uint32_t | Sensor warning flag                                             |

- **capture_mode**: ì„¼ì„œì˜ ì´¬ì˜ ëª¨ë“œë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤.

| Mode | capture_mode | Max. Resolution | Description                             |
| :--: | :----------: | :-------------: | :-------------------------------------- |
| Gray |      0       |     320x240     | 940 nm gray camera without illumination |
|  NB  |      1       |     320x160     | No binning                              |
|  VB  |      2       |     320x80      | Vertical binning                        |
|  HV  |      3       |     160x80      | Horizontal and Vertical binning         |

- **capture_frame**: ëª‡ ë²ˆì§¸ ì´¬ì˜ í”„ë ˆì„ì¸ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤. 0 ~ 63 ê¹Œì§€ ì¦ê°€ í›„ ë‹¤ì‹œ 0 ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.
- **sensor_sn**: ì„¼ì„œì˜ ì‹œë¦¬ì–¼ ë„˜ë²„ë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤.
- **sensor_time_th**, **sensor_time_tl**: ì„¼ì„œì˜ ë™ì‘ ì‹œê°„ì„ ì•Œë ¤ì¤ë‹ˆë‹¤. **sensor_time_th** ëŠ” **ms**, **sensor_time_tl** ì€ ë‚˜ë¨¸ì§€ ê°’ì¸ **us** ë‹¨ìœ„ì´ë©°, ì •í™•í•œ ë™ì‘ ì‹œê°„ì„ ë‹¤ìŒ ìˆ˜ì‹ì„ í†µí•´ **us** ë‹¨ìœ„ë¡œ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> $${\text{sensor time in us}} = {\text{sensor time th}} \times 1000 +{\text{sensor time tl}}$$
- **sensor_frame_status**: ì„¼ì„œì˜ í”„ë ˆì„ ìƒíƒœë¥¼ ì•Œë ¤ì£¼ëŠ” í•„ë“œì…ë‹ˆë‹¤. (Reserved)
- **sensor_temp_rx**, **sensor_temp_core**, **sensor_temp**: ì„¼ì„œì˜ ì´ë¯¸ì§€ ì†Œì ë° ì½”ì–´ ì˜¨ë„, ì—”í´ë¡œì €ì˜ ì˜¨ë„ ì •ë³´ë¥¼ ë‹´ê³  ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ê°’ì„ 100ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì‹¤ì œ ì„­ì”¨ ì˜¨ë„(Â°C)ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **sensor_vcsel_level**, **sensor_vcsel_on**, **sensor_power_level**, **sensor_power_on**, **sensor_level**: ì„¼ì„œì˜ ë ˆì´ì € ì „ì•• ë° ì „ì› ì „ì•• ì •ë³´ë¥¼ ë‹´ê³  ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ê°’ì„ 100ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì‹¤ì œ ì „ì•• ê°’(V)ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹œê°„ì— ë”°ë¥¸ Voltage response ì •ë³´ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.
- **sensor_warning**: ì„¼ì„œ ì´ìƒì„ ì•Œë ¤ì£¼ëŠ” warning flag ì •ë³´ì…ë‹ˆë‹¤.

## 6-6. INFO Packet
- INFO íŒ¨í‚·ì€ ì„¼ì„œì˜ í˜„ì¬ ë™ì‘ ì •ë³´ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤. INFO íŒ¨í‚·ì€ ì„¼ì„œì—ì„œ ìœ ì €ì—ê²Œ ì „ì†¡(READ)ë˜ê±°ë‚˜, ìœ ì €ì—ì„œ ì„¼ì„œë¡œ ì „ë‹¬(WRITE)ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. F/W V1.4.Xì˜ íŒì›¨ì–´ì—ì„œ ì‚¬ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤.

|      Name       | Index | Size |  Type  | Authority | Description                                                                                             |
| :-------------: | :---: | :--: | :----: | :-------: | :------------------------------------------------------------------------------------------------------ |
|    sensor_sn    |   0   |  2   | uint16 |    RO     | Sensor serial number                                                                                    |
|  sensor_hw_id   |   2   | 1x30 | uint8  |    RO     | Sensor HW ID                                                                                            |
|  sensor_fw_ver  |  32   | 1x3  | uint8  |    RO     | Sensor firmware version                                                                                 |
| sensor_fw_date  |  35   | 1x12 |  char  |    RO     | Sensor firmware date                                                                                    |
| sensor_fw_time  |  47   | 1x9  |  char  |    RO     | Sensor firmware time                                                                                    |
| sensor_calib_id |  56   |  4   | uint32 |    RO     | Sensor calibration ID                                                                                   |
|  capture_mode   |  60   |  1   | uint8  |    RW     | Capture mode, 0 = GRAY, 1 = MODE1(NB), 2 = MODE2(VB), 3 = MODE3(HV)                                     |
|   capture_row   |  61   |  1   | uint8  |    RW     | Capture row number, 4 <= ROW <= 160, default = 160, only the value in multiples of 4                    |
| capture_period  |  62   |  2   | uint16 |    RW     | Capture period, 50 <= period <= 1000, default = 80                                                      |
| capture_shutter |  64   | 2x5  | uint16 |    RW     | Capture shutter integration time, 2 <= shutter <= 600, 2 <= gray <= 10000, default = [400 80 16 8 8000] |
|  capture_limit  |  74   | 2x2  | uint16 |    RW     | Capture intensity limit, 0 <= limit <= 500, default = 200                                               |
|   data_output   |  78   |  1   | uint8  |    RW     | Data output flag                                                                                        |
|       arb       |  79   |  1   | uint8  |    RW     | Auto-reboot flag                                                                                        |
|    data_baud    |  80   |  4   | uint32 |    RW     | UART baudrate, 9600 <= baud <= 6000000, default = 115200                                                |
| data_sensor_ip  |  84   | 1x4  | uint8  |    RW     | Sensor IP                                                                                               |
|  data_dest_ip   |  88   | 1x4  | uint8  |    RW     | Destination IP                                                                                          |
|   data_subnet   |  92   | 1x4  | uint8  |    RW     | Subnet Mask                                                                                             |
|  data_gateway   |  96   | 1x4  | uint8  |    RW     | Gateway                                                                                                 |
|    data_port    |  100  |  2   | uint16 |    RW     | Data output port number                                                                                 |
|      sync       |  102  |  1   | uint8  |    RW     | Sync flag, default = 5                                                                                  |
|      lock       |  103  |  1   | uint8  |    RO     | Configuration locker, default = 0                                                                       |
|   sync_delay    |  104  |  2   | uint16 |    RW     | Sync delay, <= capture_period, default = 0                                                              |
|   arb_timeout   |  106  |  4   | uint32 |    RW     | Auto-reboot timeout <= 60 * 60 * 1000, default = 5 * 60 * 1000                                          |

- **sensor_sn**: ì„¼ì„œ ê³ ìœ ì˜ ì‹œë¦¬ì–¼ ë„˜ë²„ì…ë‹ˆë‹¤.
- **sensor_hw_id**: ì„¼ì„œ ê³ ìœ ì˜ í•˜ë“œì›¨ì–´ ID ì…ë‹ˆë‹¤.
- **sensor_fw_ver**: ì„¼ì„œì˜ íŒì›¨ì–´ ë²„ì „ì…ë‹ˆë‹¤.
- **sensor_fw_date**: ì„¼ì„œì˜ íŒì›¨ì–´ ë¹Œë“œ ì‹œê¸° ì •ë³´ ì…ë‹ˆë‹¤.
- **sensor_fw_time**: ì„¼ì„œì˜ íŒì›¨ì–´ ë¹Œë“œ ì‹œê¸° ì •ë³´ ì…ë‹ˆë‹¤.
- **sensor_calib_id**: ì„¼ì„œì˜ ìº˜ë¦¬ë¸Œë ˆì´ì…˜ ë°ì´í„° ì‹ë³„ ë²ˆí˜¸ì…ë‹ˆë‹¤.

- **capture_mode**: ì„¼ì„œì˜ ì´¬ì˜ ëª¨ë“œë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤.
- **capture_row**: ì „ì²´ ì´ë¯¸ì§€ ì¤‘ ì„¼ì„œì—ì„œ ìœ ì €ë¡œ ì „ë‹¬í•  ì´ë¯¸ì§€ì˜ ì¤„ ìˆ˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì „ë‹¬ë˜ëŠ” ì¤„ ìˆ˜ëŠ” ì´ë¯¸ì§€ ì†Œìì˜ ì¤‘ì‹¬ì—ì„œë¶€í„° ì¹´ìš´íŠ¸ ë©ë‹ˆë‹¤. ì„¤ì • ë²”ìœ„: 4~160 ì‚¬ì´ 4ì˜ ë°°ìˆ˜. ê¸°ë³¸ê°’ì¸ 160ìœ¼ë¡œ ê³ ì •í•˜ê¸°ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.
- **capture_period**: ì„¼ì„œì˜ ì´¬ì˜ ì£¼ê¸°ë¥¼ **ms** ë‹¨ìœ„ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ì„¤ì • ë²”ìœ„: 50~1000 (ê¸°ë³¸ê°’ 80)
- **capture_shutter**: ì…”í„° ê¸¸ì´ ì„¸íŠ¸ [SH1, SH2, SH3, SH4, G]ë¥¼ **us** ë‹¨ìœ„ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
  - SH1,...,SH4: ê¹Šì´ ì´ë¯¸ì§€ ì´¬ì˜ ì‹œ ì‚¬ìš©í•  ì…”í„° ê¸¸ì´ ì„¸íŠ¸. ì„¤ì • ë²”ìœ„: 0, 2~600 (ê¸°ë³¸ê°’ [400, 80, 16, 8])
  - G: í‘ë°± ì¹´ë©”ë¼ ëª¨ë“œ ì‹œ ì‚¬ìš©í•  ì…”í„° ê¸¸ì´ ì„¸íŠ¸. ì„¤ì • ë²”ìœ„: 2~10000 (ê¸°ë³¸ê°’ 8000)
- **capture_limit**:  ì¸í…ì‹œí‹° ì´ë¯¸ì§€ì—ì„œì˜ ê°’ì´ **capture_limit** ê°’ ë³´ë‹¤ ë‚®ì€ ì˜ì—­ì˜ ê¹Šì´ ê°’ì„ 0 ìœ¼ë¡œ ì¶œë ¥í•˜ë„ë¡ í•©ë‹ˆë‹¤. ì„¤ì • ë²”ìœ„: 0~500 (ê¸°ë³¸ê°’ 200)

- **data_output**:  ì„¼ì„œì—ì„œ ì¶œë ¥í•  ë°ì´í„°ì˜ ì¢…ë¥˜ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.

| Bit  | 7:3 (5 bits) |         2          |           1           |         0         |
| :--: | :----------: | :----------------: | :-------------------: | :---------------: |
| Data |   reserved   | data_output_status | data_output_intensity | data_output_depth |

  - **data_output_depth**: ê¹Šì´ê°’ ì¶œë ¥ í”Œë˜ê·¸ (1: ì¶œë ¥, 0: ë¯¸ì¶œë ¥) 
  - **data_output_intensity**: ì¸í…ì‹œí‹°ê°’ ì¶œë ¥ í”Œë˜ê·¸ (1: ì¶œë ¥, 0: ë¯¸ì¶œë ¥) 
  - **data_output_status**: STATUS ì„ íƒ í”Œë˜ê·¸ (1: STATUS_FULL, 0: STATUS)

- **data_baud**: UART í†µì‹  ì‹œ baudrate ë¥¼ ì •í•©ë‹ˆë‹¤. ì„¤ì • ë²”ìœ„: 9600~6000000 (ê¸°ë³¸ê°’: 115200)
- **data_sensor_ip**: ì„¼ì„œì˜ IP ì£¼ì†Œë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
- **data_dest_ip**: ì„¼ì„œì˜ ë°ì´í„°ë¥¼ ìˆ˜ì‹  ë°›ì„ ìœ ì €ì˜ IP ì£¼ì†Œì…ë‹ˆë‹¤.
- **data_subnet**, **data_gateway**: ì„œë¸Œë„· ë§ˆìŠ¤í¬ ë° ê²Œì´íŠ¸ì›¨ì´ ì •ë³´ì…ë‹ˆë‹¤.
- **data_port**: í†µì‹  ì‹œ ì‚¬ìš©í•  í¬íŠ¸ ì •ë³´ì…ë‹ˆë‹¤.

- **sync**: sync ëŠ” synchronization ë°©ë²• ë° strobe í•€ì˜ ë™ì‘ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. sync í•„ë“œì— í¬í•¨ëœ íŒŒë¼ë¯¸í„°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

| Bit  | 7:4 (4 bits) | 3:2 (2 bits) | 1:0 (2 bits) |
| :--: | :----------: | :----------: | :----------: |
| Data |   reserved   |    strobe    |  sync_mode   |

  - **sync_mode**: synchronization ë°©ë²•ì„ ì„¤ì •í•©ë‹ˆë‹¤. (0: ë¯¸ì„¤ì •, 1: UDP, 2: TRIGGER)
  - **strobe**: ì„¼ì„œì˜ ì •í™•í•œ ì¸¡ì • ì‹ í˜¸ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. strobe ê¸°ëŠ¥ì´ ì¼œì ¸ìˆìœ¼ë©´, ì„¼ì„œê°€ ì¸¡ì •í•˜ëŠ” ë™ì•ˆ strobe pinì´ 3.3 V ë¡œ ì„¤ì •ë˜ê³ , ë‚˜ë¨¸ì§€ ì‹œê°„ë™ì•ˆì—ëŠ” 0 V ê°’ì„ ê°€ì§‘ë‹ˆë‹¤. (0: ë¯¸ì„¤ì •, 1: ì„¤ì •)

- **sync_delay**: sync ê¸°ëŠ¥ ì‹œ, ê¸°ì¤€ ì‹œì ìœ¼ë¡œë¶€í„°ì˜ ë”œë ˆì´ ê°’ì…ë‹ˆë‹¤. (ì„¤ì • ë²”ìœ„: 0 ~ **capture_period**) 
- **arb**: ìë™ ì¬ë¶€íŒ… ê¸°ëŠ¥ (Auto-Reboot)ì˜ ë°©ì‹ì„ ì„¤ì •í•©ë‹ˆë‹¤. ìë™ ì¬ë¶€íŒ… ê¸°ëŠ¥ì´ í™œì„±í™”ëœ ê²½ìš°, ì„¼ì„œì™€ ìœ ì € ì‚¬ì´ì˜ synchronization ì‹ í˜¸ë¥¼ arb_timeout **ms** ì‹œê°„ë™ì•ˆ ë°›ì§€ ì•Šìœ¼ë©´ ìë™ìœ¼ë¡œ ì¬ë¶€íŒ…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. arb í•„ë“œì— í¬í•¨ëœ íŒŒë¼ë¯¸í„°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

| Bit  | 7:2 (6 bits) | 1:0 (2 bits) |
| :--: | :----------: | :----------: |
| Data |   reserved   |   arb_mode   |

  - **arb_mode**: Auto-reboot reset ì‹ í˜¸ ê°ì§€ ê¸°ì¤€ì„ ì•Œë ¤ì¤ë‹ˆë‹¤. (0: ë¯¸ì„¤ì •, 1: UDP, 2: TRIGGER)

- **arb_timeout**: ìë™ ì¬ë¶€íŒ…ì´ ë°œë™í•  ì‹œê°„ì„ ì„¤ì •í•©ë‹ˆë‹¤. ë‹¨ìœ„ëŠ” **ms** ì…ë‹ˆë‹¤.
- **lock**: Configuration lock ì˜ ìƒíƒœë¥¼ ì•Œë ¤ì£¼ë©°, 0ì´ ì•„ë‹Œ ê°’ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ” ê²½ìš° INFO íŒ¨í‚·ì„ í†µí•œ ì„¼ì„œì˜ ë™ì‘ ì •ë³´ ë³€ê²½ì„ ë§‰ìŠµë‹ˆë‹¤. Configuration lock ìƒíƒœëŠ” INFO íŒ¨í‚·ì˜ ì „ì†¡ì„ í†µí•œ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•˜ë©°, ì˜¤ì§ COMMAND íŒ¨í‚·ì„ í†µí•´ì„œë§Œ ë³€ê²½ ê°€ëŠ¥í•©ë‹ˆë‹¤.

## 6-7. INFO_V2 Packet
- INFO_V2 íŒ¨í‚·ì€ ì„¼ì„œì˜ í˜„ì¬ ë™ì‘ ì •ë³´ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤. INFO_V2 íŒ¨í‚·ì€ ì„¼ì„œì—ì„œ ìœ ì €ì—ê²Œ ì „ì†¡(READ)ë˜ê±°ë‚˜, ìœ ì €ì—ì„œ ì„¼ì„œë¡œ ì „ë‹¬(WRITE)ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. F/W V1.5.Xì˜ íŒì›¨ì–´ì—ì„œ ì‚¬ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤.

|         Name         | Index | Size |  Type  | Authority | Description                                                                                                     |
| :------------------: | :---: | :--: | :----: | :-------: | :-------------------------------------------------------------------------------------------------------------- |
|      sensor_sn       |   0   |  2   | uint16 |    RO     | Serial number                                                                                                   |
|     sensor_hw_id     |   2   | 1x30 | uint8  |    RO     | HW ID                                                                                                           |
|    sensor_fw_ver     |  32   | 1x3  | uint8  |    RO     | Firmware version                                                                                                |
|    sensor_fw_date    |  35   | 1x12 |  char  |    RO     | Firmware date                                                                                                   |
|    sensor_fw_time    |  47   | 1x9  |  char  |    RO     | Firmware time                                                                                                   |
|   sensor_calib_id    |  56   |  4   | uint32 |    RO     | Calibration ID                                                                                                  |
|    sensor_fw0_ver    |  60   | 1x3  | uint8  |    RO     | Sensor firmware version of backup firmware                                                                      |
|    sensor_fw1_ver    |  63   | 1x3  | uint8  |    RO     | Sensor firmware version on flash sector 1                                                                       |
|    sensor_fw2_ver    |  66   | 1x3  | uint8  |    RO     | Sensor firmware version on flash sector 2                                                                       |
|   sensor_model_id    |  69   |  1   | uint8  |    RO     | Sensor model identifier (Reserved)                                                                              |
|   sensor_boot_mode   |  70   |  1   | uint8  |    RO     | Sensor boot mode register                                                                                       |
|     capture_mode     |  71   |  1   | uint8  |    RW     | Capture mode, 0 = GRAY, 1 = MODE1(NB), 2 = MODE2(VB), 3 = MODE3(HV)                                             |
|     capture_row      |  72   |  1   | uint8  |    RW     | Capture row number, 4 <= ROW <= 160, default = 160, only the value in multiples of 4                            |
|   capture_shutter    |  73   | 2x5  | uint16 |    RW     | Capture shutter integration time in *us*, 2 <= shutter <= 600, 2 <= gray <= 10000, default = [400 80 16 8 8000] |
|    capture_limit     |  83   | 2x2  | uint16 |    RW     | Capture intensity limit, 0 <= limit <= 500, default = [200 200]                                                 |
|  capture_period_us   |  87   |  4   | uint32 |    RW     | Capture period in *us*, 80000 <= period <= 1000000, default = 80000                                             |
|     capture_seq      |  91   |  1   | uint8  |    RW     | Capture sequence flag, default = 0 (forward)                                                                    |
|     data_output      |  92   |  1   | uint8  |    RW     | Data output flag                                                                                                |
|      data_baud       |  93   |  4   | uint32 |    RW     | UART baudrate, 9600 <= baud <= 6000000, default = 115200                                                        |
|    data_sensor_ip    |  97   | 1x4  | uint8  |    RW     | Sensor IP                                                                                                       |
|     data_dest_ip     |  101  | 1x4  | uint8  |    RW     | Destination IP                                                                                                  |
|     data_subnet      |  105  | 1x4  | uint8  |    RW     | Subnet Mask                                                                                                     |
|     data_gateway     |  109  | 1x4  | uint8  |    RW     | Gateway                                                                                                         |
|      data_port       |  113  |  2   | uint16 |    RW     | Data output port number                                                                                         |
|    data_mac_addr     |  115  | 1x6  | uint8  |    RW     | MAC address of the sensor                                                                                       |
|         sync         |  121  |  1   | uint8  |    RW     | Sync flag, default = 5                                                                                          |
|  sync_trig_delay_us  |  122  |  4   | uint32 |    RW     | Trigger to illumination delay in *us*, default = 0                                                              |
|  sync_ill_delay_us   |  126  | 2x15 | uint16 |    RW     | Delay between illuminations in *us*, default = { 0, }                                                           |
|  sync_trig_trim_us   |  156  |  1   | uint8  |    RW     | Trigger to illumination trimmer in *us*, default = 4                                                            |
|   sync_ill_trim_us   |  157  |  1   | uint8  |    RW     | Illumination trimmer in *us*, default = 2                                                                       |
| sync_output_delay_us |  158  |  2   | uint16 |    RW     | Illumination to transmission delay in *us*, default = 0                                                         |
|         arb          |  160  |  1   | uint8  |    RW     | Auto-reboot flag, default = 0                                                                                   |
|     arb_timeout      |  161  |  4   | uint32 |    RW     | Auto-reboot timeout <= 60 * 60 * 1000, default = 5 * 60 * 1000                                                  |
|         lock         |  165  |  1   | uint8  |    RO     | Configuration locker, default = 0                                                                               |

- **sensor_sn**: ì„¼ì„œ ê³ ìœ ì˜ ì‹œë¦¬ì–¼ ë„˜ë²„ì…ë‹ˆë‹¤.
- **sensor_hw_id**: ì„¼ì„œ ê³ ìœ ì˜ í•˜ë“œì›¨ì–´ ID ì…ë‹ˆë‹¤.
- **sensor_fw_ver**: ì„¼ì„œì˜ íŒì›¨ì–´ ë²„ì „ì…ë‹ˆë‹¤.
- **sensor_fw_date**: ì„¼ì„œì˜ íŒì›¨ì–´ ë¹Œë“œ ì‹œê¸° ì •ë³´ ì…ë‹ˆë‹¤.
- **sensor_fw_time**: ì„¼ì„œì˜ íŒì›¨ì–´ ë¹Œë“œ ì‹œê¸° ì •ë³´ ì…ë‹ˆë‹¤.
- **sensor_calib_id**: ì„¼ì„œì˜ ìº˜ë¦¬ë¸Œë ˆì´ì…˜ ë°ì´í„° ì‹ë³„ ë²ˆí˜¸ì…ë‹ˆë‹¤.
- **sensor_fw0_ver**: ì„¼ì„œì˜ ë°±ì—… íŒì›¨ì–´ ë²„ì „ ì…ë‹ˆë‹¤.
- **sensor_fw1_ver**: í”Œë˜ì‹œ ë©”ëª¨ë¦¬ì˜ 1ë²ˆ ì„¹í„° ìƒì˜ íŒì›¨ì–´ ë²„ì „ ì…ë‹ˆë‹¤.
- **sensor_fw2_ver**: í”Œë˜ì‹œ ë©”ëª¨ë¦¬ì˜ 2ë²ˆ ì„¹í„° ìƒì˜ íŒì›¨ì–´ ë²„ì „ ì…ë‹ˆë‹¤.
- **sensor_model_id**: ì„¼ì„œì˜ ëª¨ë¸ ì‹ë³„ì ì…ë‹ˆë‹¤.
- **sensor_boot_mode**: ì„¼ì„œì˜ ë¶€íŒ… ëª¨ë“œ ë ˆì§€ìŠ¤í„° ì…ë‹ˆë‹¤.

- **capture_mode**: ì„¼ì„œì˜ ì´¬ì˜ ëª¨ë“œë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤.
- **capture_mode**: ì „ì²´ ì´ë¯¸ì§€ ì¤‘ ì„¼ì„œì—ì„œ ìœ ì €ë¡œ ì „ë‹¬í•  ì´ë¯¸ì§€ì˜ ì¤„ ìˆ˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì „ë‹¬ë˜ëŠ” ì¤„ ìˆ˜ëŠ” ì´ë¯¸ì§€ ì†Œìì˜ ì¤‘ì‹¬ì—ì„œë¶€í„° ì¹´ìš´íŠ¸ ë©ë‹ˆë‹¤. ì„¤ì • ë²”ìœ„: 4~160 ì‚¬ì´ 4ì˜ ë°°ìˆ˜. ê¸°ë³¸ê°’ì¸ 160ìœ¼ë¡œ ê³ ì •í•˜ê¸°ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.
- **capture_shutter**: ì…”í„° ê¸¸ì´ ì„¸íŠ¸ [SH1, SH2, SH3, SH4, G]ë¥¼ us ë‹¨ìœ„ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
  - SH1,...,SH4: ê¹Šì´ ì´ë¯¸ì§€ ì´¬ì˜ ì‹œ ì‚¬ìš©í•  ì…”í„° ê¸¸ì´ ì„¸íŠ¸. ì„¤ì • ë²”ìœ„: 0, 2~600 (ê¸°ë³¸ê°’ [400, 80, 16, 8])
  - G: í‘ë°± ì¹´ë©”ë¼ ëª¨ë“œ ì‹œ ì‚¬ìš©í•  ì…”í„° ê¸¸ì´ ì„¸íŠ¸. ì„¤ì • ë²”ìœ„: 2~10000 (ê¸°ë³¸ê°’ 8000)
- **capture_limit**: ì¸í…ì‹œí‹° ì´ë¯¸ì§€ì—ì„œì˜ ê°’ì´ **capture_limit** ê°’ ë³´ë‹¤ ë‚®ì€ ì˜ì—­ì˜ ê¹Šì´ ê°’ì„ 0 ìœ¼ë¡œ ì¶œë ¥í•˜ë„ë¡ í•©ë‹ˆë‹¤. ì„¤ì • ë²”ìœ„: 0~500 (ê¸°ë³¸ê°’ 200)
- **capture_period_us**: ì„¼ì„œì˜ ì´¬ì˜ ì£¼ê¸°ë¥¼ **us** ë‹¨ìœ„ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ì„¤ì • ë²”ìœ„: 80000~1000000 
- **capture_seq**: **capture_shutter** ì—ì„œ ì •ì˜ëœ ì…”í„°ì˜ ì´¬ì˜ ìˆœì„œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. (0: Forward, 1: Backward)

- **data_output**:  ì„¼ì„œì—ì„œ ì¶œë ¥í•  ë°ì´í„°ì˜ ì¢…ë¥˜ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.

| Bit  | 7:3 (5 bits) |         2          |           1           |         0         |
| :--: | :----------: | :----------------: | :-------------------: | :---------------: |
| Data |   reserved   | data_output_status | data_output_intensity | data_output_depth |

  - **data_output_depth**: ê¹Šì´ê°’ ì¶œë ¥ í”Œë˜ê·¸ (1: ì¶œë ¥, 0: ë¯¸ì¶œë ¥) 
  - **data_output_intensity**: ì¸í…ì‹œí‹°ê°’ ì¶œë ¥ í”Œë˜ê·¸ (1: ì¶œë ¥, 0: ë¯¸ì¶œë ¥) 
  - **data_output_status**: STATUS ì„ íƒ í”Œë˜ê·¸ (1: STATUS_FULL, 0: STATUS)

- **data_baud**: UART í†µì‹  ì‹œ baudrate ë¥¼ ì •í•©ë‹ˆë‹¤. ì„¤ì • ë²”ìœ„: 9600~6000000 (ê¸°ë³¸ê°’: 115200)
- **data_sensor_ip**: ì„¼ì„œì˜ IP ì£¼ì†Œë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
- **data_dest_ip**: ì„¼ì„œì˜ ë°ì´í„°ë¥¼ ìˆ˜ì‹  ë°›ì„ ìœ ì €ì˜ IP ì£¼ì†Œì…ë‹ˆë‹¤.
- **data_subnet**, **data_gateway**: ì„œë¸Œë„· ë§ˆìŠ¤í¬ ë° ê²Œì´íŠ¸ì›¨ì´ ì •ë³´ì…ë‹ˆë‹¤.
- **data_port**: í†µì‹  ì‹œ ì‚¬ìš©í•  í¬íŠ¸ ì •ë³´ì…ë‹ˆë‹¤.
- **data_mac_addr**: ì„¼ì„œì˜ MAC ì£¼ì†Œì…ë‹ˆë‹¤.

- **sync**: syncëŠ” synchronization ë°©ë²• ë° strobe í•€ì˜ ë™ì‘ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. sync í•„ë“œì— í¬í•¨ëœ íŒŒë¼ë¯¸í„°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

| Bit  | 7:4 (4 bits) | 3:2 (2 bits) | 1:0 (2 bits) |
| :--: | :----------: | :----------: | :----------: |
| Data |   reserved   |    strobe    |  sync_mode   |

  - **sync_mode**: synchronization ë°©ë²•ì„ ì„¤ì •í•©ë‹ˆë‹¤. (0: ë¯¸ì„¤ì •, 1: UDP, 2: TRIGGER)
  - **strobe**: ì„¼ì„œì˜ ì •í™•í•œ ì¸¡ì • ì‹ í˜¸ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. strobe ê¸°ëŠ¥ì´ ì¼œì ¸ìˆìœ¼ë©´, ì„¼ì„œê°€ ì¸¡ì •í•˜ëŠ” ë™ì•ˆ strobe pinì´ 3.3 V ë¡œ ì„¤ì •ë˜ê³ , ë‚˜ë¨¸ì§€ ì‹œê°„ë™ì•ˆì—ëŠ” 0 V ê°’ì„ ê°€ì§‘ë‹ˆë‹¤. (0: ë¯¸ì„¤ì •, 1: ì„¤ì •)

- **sync_trig_delay_us**: sync ê¸°ëŠ¥ ì‚¬ìš©ì‹œ, ê¸°ì¤€ ì‹œì ìœ¼ë¡œë¶€í„°ì˜ ë”œë ˆì´ ê°’ì…ë‹ˆë‹¤. (ì„¤ì • ë²”ìœ„: 0 ~ **capture_period_us**, ê¸°ë³¸ê°’: 0)
- **sync_ill_delay_us**: sync ê¸°ëŠ¥ ì‚¬ìš©ì‹œ, ì´¬ì˜ë˜ëŠ” ì›ì‹œ ì´ë¯¸ì§€ ì‚¬ì´ì— ì¶”ê°€ì ì¸ ì‹œê°„ ì§€ì—°ì„ ì„¤ì •í•˜ëŠ” ê°’ì…ë‹ˆë‹¤.
- **sync_trig_trim_us**: sync ê¸°ëŠ¥ ì‚¬ìš©ì‹œ í†µì‹  ì§€ì—°, ë‚´ë¶€ í´ëŸ­ ì˜¤ì°¨ ë“±ì„ ê³ ë ¤í•˜ê¸° ìœ„í•´ **sync_trig_delay_us** ê°’ì—ì„œ íŠ¸ë¦¬ë° í•´ì£¼ëŠ” ê°’ì…ë‹ˆë‹¤.
- **sync_ill_trim_us**: sync ê¸°ëŠ¥ ì‚¬ìš©ì‹œ í†µì‹  ì§€ì—°, ë‚´ë¶€ í´ëŸ­ ì˜¤ì°¨ ë“±ì„ ê³ ë ¤í•˜ê¸° ìœ„í•´ **sync_ill_delay_us** ê°’ì—ì„œ íŠ¸ë¦¬ë° í•´ì£¼ëŠ” ê°’ì…ë‹ˆë‹¤.
- **sync_output_delay_us**: ë°ì´í„° ì´¬ì˜ ë° ì„¼ì„œ ë‚´ë¶€ ê³„ì‚°ì´ ëë‚œ í›„, ìœ ì €ì—ê²Œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” ì‹œì ì— ì¶”ê°€ì ì¸ ì‹œê°„ ì§€ì—°ì„ ì„¤ì •í•´ì£¼ëŠ” ê°’ ì…ë‹ˆë‹¤. ë‹¤ì¤‘ ì„¼ì„œ ì‚¬ìš© ì‹œ, íŠ¸ë˜í”½ ê³¼ë¶€í•˜ë¥¼ ë§‰ê¸° ìœ„í•´ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- **arb**: ìë™ ì¬ë¶€íŒ… ê¸°ëŠ¥ (Auto-Reboot)ì˜ ë°©ì‹ì„ ì„¤ì •í•©ë‹ˆë‹¤. ìë™ ì¬ë¶€íŒ… ê¸°ëŠ¥ì´ í™œì„±í™”ëœ ê²½ìš°, ì„¼ì„œì™€ ìœ ì € ì‚¬ì´ì˜ synchronization ì‹ í˜¸ë¥¼ **arb_timeout** **ms** ì‹œê°„ë™ì•ˆ ë°›ì§€ ì•Šìœ¼ë©´ ìë™ìœ¼ë¡œ ì¬ë¶€íŒ…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. arb í•„ë“œì— í¬í•¨ëœ íŒŒë¼ë¯¸í„°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

| Bit  | 7:2 (6 bits) | 1:0 (2 bits) |
| :--: | :----------: | :----------: |
| Data |   reserved   |   arb_mode   |

  - **arb_mode**: Auto-reboot reset ì‹ í˜¸ ê°ì§€ ê¸°ì¤€ì„ ì•Œë ¤ì¤ë‹ˆë‹¤. (0: ë¯¸ì„¤ì •, 1: UDP, 2: TRIGGER)

- **arb_timeout**: ìë™ ì¬ë¶€íŒ…ì´ ë°œë™í•  ì‹œê°„ì„ ì„¤ì •í•©ë‹ˆë‹¤. ë‹¨ìœ„ëŠ” **ms** ì…ë‹ˆë‹¤.

- **lock**: Configuration lock ì˜ ìƒíƒœë¥¼ ì•Œë ¤ì£¼ë©°, 0ì´ ì•„ë‹Œ ê°’ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ” ê²½ìš° INFO íŒ¨í‚·ì„ í†µí•œ ì„¼ì„œì˜ ë™ì‘ ì •ë³´ ë³€ê²½ì„ ë§‰ìŠµë‹ˆë‹¤. Configuration lock ìƒíƒœëŠ” INFO íŒ¨í‚·ì˜ ì „ì†¡ì„ í†µí•œ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•˜ë©°, ì˜¤ì§ COMMAND íŒ¨í‚·ì„ í†µí•´ì„œë§Œ ë³€ê²½ ê°€ëŠ¥í•©ë‹ˆë‹¤.

## 6-8. CMD Packet
- CMD íŒ¨í‚·ì€ ì„¼ì„œì—ê²Œ ëª…ë ¹ì„ ë‚´ë¦¬ëŠ” íŒ¨í‚·ì…ë‹ˆë‹¤. cmd_idëŠ” ëª…ë ¹ì–´ id, cmd_msgëŠ” í•„ìš”ì‹œ ì‚¬ìš©ë˜ëŠ” ì¶”ê°€ ë©”ì„¸ì§€ì…ë‹ˆë‹¤.

|  Name   | Index | Size |  Type  |
| :-----: | :---: | :--: | :----: |
| cmd_id  |   0   |  2   | uint16 |
| cmd_msg |   2   |  2   | uint16 |

- cmd_id ì™€ cmd_msgì˜ ëª©ë¡ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

|     Name      | cmd_id |    cmd_msg    | Description                          |
| :-----------: | :----: | :-----------: | :----------------------------------- |
|   CMD_SYNC    | 0x0000 |    0x0000     | Synchronization for multiple sensors |
|  CMD_MEASURE  | 0x0100 |    0x0000     | Start capturing                      |
|   CMD_PAUSE   | 0x0101 |    0x0000     | Pause capturing                      |
|  CMD_REBOOT   | 0x0102 |    0x0000     | Reboot sensor                        |
|   CMD_STORE   | 0x0103 |    0x0000     | Store current setting                |
|   CMD_RESET   | 0x0200 | serial_number | Factory reset                        |
| CMD_READ_INFO | 0x0300 |    0x0000     | Query info                           |
| CMD_REDIRECT  | 0x0400 |    0x0000     | Redirect destination IP              |
|   CMD_LOCK    | 0x0500 | serial_number | Set configuration lock bit           |
|  CMD_UNLOCK   | 0x0501 | serial_number | Clear configuration lock bit         |

- **CMD_SYNC**: ë‹¤ì¤‘ ì„¼ì„œ ì‚¬ìš© ì‹œ ì„¼ì„œì˜ ë™ê¸°í™” ì‹œì ì„ broadcasting í•˜ëŠ” ëª…ë ¹ìœ¼ë¡œ, ì´í›„ì˜ ì¥ì—ì„œ ìì„¸í•˜ê²Œ ì„¤ëª…í•©ë‹ˆë‹¤.
- **CMD_MEASURE**:  ì„¼ì„œì˜ ë°ì´í„° ì·¨ë“ì„ ì‹œì‘í•©ë‹ˆë‹¤.
- **CMD_PAUSE**: ì„¼ì„œì˜ ë°ì´í„° ì·¨ë“ì„ ì¼ì‹œì •ì§€ í•©ë‹ˆë‹¤.
- **CMD_REBOOT**: ì„¼ì„œë¥¼ ì¬ë¶€íŒ… í•©ë‹ˆë‹¤.
- **CMD_STORE**: í˜„ì¬ ì„¼ì„œì˜ ì„¸íŒ…ì„ ì„¼ì„œê°€ ì¬ë¶€íŒ… ëœ ì´í›„ì—ë„ ìœ ì§€ë˜ë„ë¡ ì„¼ì„œ ë‚´ë¶€ flashì— ì €ì¥í•©ë‹ˆë‹¤.
- **CMD_RESET**: ìˆ˜ì‹  ë°›ì€ ì„¼ì„œëŠ” íŒ¨í‚·ì˜ ì‹œë¦¬ì–¼ ë„˜ë²„ë¥¼ í™•ì¸í•˜ê³ , ì‹œë¦¬ì–¼ ë„˜ë²„ê°€ ì¼ì¹˜í•  ê²½ìš° ì´ˆê¸° ê°’ìœ¼ë¡œ INFO ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì‹œë¦¬ì–¼ ë„˜ë²„ê°€ ì¼ì¹˜í•˜ì§€ ì•Šì„ ê²½ìš°, ì´ˆê¸°í™”ê°€ ìˆ˜í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- **CMD_READ_INFO**: ìœ ì €ê°€ ì„¼ì„œì˜ INFO ë¥¼ ìš”ì²­í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. ìˆ˜ì‹  ë°›ì€ ì„¼ì„œëŠ” í˜„ì¬ì˜ ì„¤ì •ê°’ì„ ë‹´ì€ INFO íŒ¨í‚·ì„ data_dest_ip ë¡œ ì „ì†¡í•©ë‹ˆë‹¤.
- **CMD_REDIRECT**: ì„¼ì„œì˜ data_dest_ip ê°’ì„ Redirect ëª…ë ¹ì„ ë³´ë‚¸ ìœ ì €ì˜ IP ì£¼ì†Œë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
- **CMD_LOCK**, **CMD_UNLOCK**: ìˆ˜ì‹  ë°›ì€ ì„¼ì„œëŠ” INFOì˜ configuration lock ê¸°ëŠ¥ì„ ì¼œê±°ë‚˜ ë•ë‹ˆë‹¤. lockìƒíƒœì˜ ì„¼ì„œëŠ” ìœ ì €ë¡œë¶€í„° INFO íŒ¨í‚·ì„ ìˆ˜ì‹ í•˜ì—¬ë„ ì„¼ì„œ íŒŒë¼ë¯¸í„°ê°€ ë³€ê²½ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì‹œë¦¬ì–¼ ë„˜ë²„ê°€ ì¼ì¹˜í•˜ì§€ ì•Šì„ ê²½ìš° ìˆ˜í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

## 6-9. SYNC_ACK Packet
- SYNC_ACK íŒ¨í‚·ì€ ì„¼ì„œê°€ ë™ê¸°í™” ì‹ í˜¸ë¥¼ ë°›ì€ ì´í›„ ê²½ê³¼ ì‹œê°„ì„ ì•Œë ¤ì£¼ëŠ” íŒ¨í‚·ì…ë‹ˆë‹¤. *sync_mode* ê°€ UDP ë¡œ ì„¤ì •ë˜ëŠ” ê²½ìš° ë™ì‘í•˜ë©°, ì„¼ì„œì˜ ë§¤ ë°ì´í„° ì´¬ì˜ì„ ëë‚¸ ì´í›„ ë³¸ íŒ¨í‚·ì´ ìœ ì €ì—ê²Œ ì „ë‹¬ë©ë‹ˆë‹¤.

|         Name         | Index | Size |  Type  | Descrption                           |
| :------------------: | :---: | :--: | :----: | :----------------------------------- |
|      sensor_sn       |   0   |  2   | uint16 | Serial number                        |
|    sensor_time_th    |   2   |  8   | uint64 | Sensor time in *ms*                  |
|    sensor_time_tl    |  10   |  2   | uint16 | Sensor time in *us*                  |
|     sync_cmd_ip      |  12   | 1x4  | uint8  | Synchronization command owner IP     |
|    sync_cmd_port     |  16   |  2   | uint16 | Synchronization command owner port   |
| sync_elapsed_time_us |  18   |  8   | uint64 | Synchronization elapsed time in *us* |

- **sensor_sn**: ì„¼ì„œì˜ ì‹œë¦¬ì–¼ ë„˜ë²„ë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤.
- **sensor_time_th**, **sensor_time_tl**: ì„¼ì„œì˜ ë™ì‘ ì‹œê°„ì„ ì•Œë ¤ì¤ë‹ˆë‹¤. **sensor_time_th** ëŠ” **ms**, **sensor_time_tl** ì€ ë‚˜ë¨¸ì§€ ê°’ì¸ **us** ë‹¨ìœ„ì´ë©°, ì •í™•í•œ ë™ì‘ ì‹œê°„ì„ ë‹¤ìŒ ìˆ˜ì‹ì„ í†µí•´ **us** ë‹¨ìœ„ë¡œ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> $${\text{sensor time in us}} = {\text{sensor time th}} \times 1000 +{\text{sensor time tl}}$$
- **sync_cmd_ip**: ì„¼ì„œì— sync íŒ¨í‚·ì„ ë³´ë‚¸ ì¥ì¹˜ì˜ IP ì£¼ì†Œì…ë‹ˆë‹¤.
- **sync_cmd_port**: ì„¼ì„œì— sync íŒ¨í‚·ì„ ë³´ë‚¸ ì¥ì¹˜ì˜ port ì…ë‹ˆë‹¤.
- **sync_elapsed_time_us**: ë§ˆì§€ë§‰ sync ì‹ í˜¸ë¥¼ ë°›ì€ ì´í›„ë¡œ ê²½ê³¼í•œ ì‹œê°„ì„ **us** ë‹¨ìœ„ë¡œ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

![sync_ack](./images/sync_ack.png)

# 7. How to Handle Image and Point Cloud

## 7-1. Image Data
- ë³¸ ì¥ì—ì„œëŠ” ì„¼ì„œì˜ ëª¨ë“œì— ë”°ë¥¸ ë°ì´í„° ì·¨ë“ ë°©ì‹ ë° ìœ ì €ê°€ ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ë°›ëŠ” ë°©ë²•ì— ëŒ€í•´ ë‹¤ë£¹ë‹ˆë‹¤.

### 7-1-1. Capture Row
- INFO íŒ¨í‚·ì—ì„œ ì •ì˜ë˜ëŠ” capture_row ëŠ” ë¼ì´ë‹¤ì˜ ì´ë¯¸ì§€ ì„¼ì„œì—ì„œ ì¸¡ì •ê°’ì„ ì½ì„ ì˜ì—­ì„ ì„ íƒí•˜ëŠ” íŒŒë¼ë¯¸í„°ë¡œ, 4~160 ë²”ìœ„ì—ì„œ 4ì˜ ë°°ìˆ˜ ê°’ìœ¼ë¡œ ì„¤ì • ê°€ëŠ¥í•©ë‹ˆë‹¤. iTFS ì„¼ì„œ ì´ë¯¸ì§€ ì†Œìì˜ ì´ í”½ì…€ ìˆ˜ëŠ” **320x240** ì´ë©°, ì‘ë™ ëª¨ë“œ (**capture_mode**) ì— ë”°ë¼ ì•„ë˜ì™€ ê°™ì€ ì˜ì—­ì„ ì½ìŠµë‹ˆë‹¤.

|   Mode   | capture_mode |   Capturing Rows    |
| :------: | :----------: | :-----------------: |
|   Gray   |      0       |   320x240 (fixed)   |
| NB/VB/HV |    1,2,3     | 320 x [capture_row] |

![row](./images/row.png)

### 7-1-2. Binning
- iTFS ì„¼ì„œëŠ” ì´ì›ƒí•œ í”½ì…€ ì‚¬ì´ì˜ ì‹ í˜¸ë¥¼ í•©ì³, í•´ìƒë„ë¥¼ ë‚®ì¶”ëŠ” ëŒ€ì‹  ì‹ í˜¸ì˜ ì„¸ê¸°ë¥¼ í‚¤ìš°ëŠ” binning ê¸°ëŠ¥ì„ ìì²´ì ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤. capture_modeì— ë”°ë¼ 3ê°€ì§€ì˜ binning ëª¨ë“œê°€ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
  - **NB**(No Binning): ë¹„ë‹ ì—†ì´ ê°ê°ì˜ í”½ì…€ì´ ì¸¡ì •í•©ë‹ˆë‹¤.
  - **VB**(Vertical Binning): ìˆ˜ì§ìœ¼ë¡œ ì´ì›ƒí•œ 2ê°œì˜ í”½ì…€ ì‹ í˜¸ë¥¼ í•©ì³ì„œ ì¸¡ì •í•©ë‹ˆë‹¤. 
  - **HV**(Horizontal and Vertical binning): ìˆ˜í‰ ë° ìˆ˜ì§ìœ¼ë¡œ ì´ì›ƒí•œ 4ê°œì˜ í”½ì…€ ì‹ í˜¸ë¥¼ í•©ì³ì„œ ì¸¡ì •í•©ë‹ˆë‹¤. 

![bin](./images/bin.png)

### 7-1-3. Accumulating Image Packet
- ì„¼ì„œì—ì„œ ì´¬ì˜ëœ ì´ë¯¸ì§€ì˜ ì „ì²´ ìš©ëŸ‰ì€ ì´ë”ë„·ì˜ **MTU(Maximum Transmission Unit)**ì¸ 1500 bytes ë³´ë‹¤ í½ë‹ˆë‹¤. ë”°ë¼ì„œ, ì•ˆì •ì ì¸ ì´ë¯¸ì§€ ë°ì´í„°ì˜ ì „ì†¡ì„ ìœ„í•´ ê¹Šì´ ì´ë¯¸ì§€ì™€ ì¸í…ì‹œí‹° ì´ë¯¸ì§€ëŠ” ëª‡ ì¤„ ë‹¨ìœ„ë¡œ ë‚˜ë‰˜ì–´ì ¸ IMG íŒ¨í‚·ì„ í†µí•´ ìœ ì €ì—ê²Œ ì „ì†¡ë©ë‹ˆë‹¤. ìœ ì €ëŠ” **IMG íŒ¨í‚·**ì—ì„œ ì´ë¯¸ì§€ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ê³ , ì´ë¥¼ **row_index**ì— ë”°ë¼ ìŒ“ì•„ì„œ ì›ì‹œ ê¹Šì´ ì´ë¯¸ì§€ ë° ì›ì‹œ ì¸í…ì‹œí‹° ì´ë¯¸ì§€ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

| Mode | Total Pixels  | Rows per IMG Packet | Depth row_index | Intensity row_index |
| :--: | :-----------: | :-----------------: | :-------------: | :-----------------: |
|  NB  | 320 x 160 x 2 |          2          |      0~79       |       80~159        |
|  VB  | 320 x 80 x 2  |          2          |      0~39       |        40~79        |
|  HV  | 160 x 80 x 2  |          4          |      0~19       |        20~39        |

![decode](./images/decode.png)

- **VB**ì™€ **HV**ì˜ ê²½ìš° ì´ë¯¸ì§€ì˜ í•´ìƒë„ê°€ **NB**ì™€ ë‹¤ë¦…ë‹ˆë‹¤. ëª¨ë“œì— ìƒê´€ì—†ì´ ë™ì¼í•œ í•´ìƒë„ì˜ ì´ë¯¸ì§€ë¥¼ ì–»ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ í•´ìƒë„ë¥¼ ë³µì›í•˜ì—¬ ì‚¬ìš©í•´ ì£¼ì‹­ì‹œì˜¤.
  - **VB**: ê°ê°ì˜ í”½ì…€ê°’ì„ ìˆ˜ì§ ë°©í–¥ìœ¼ë¡œ 1íšŒ ë³µì‚¬í•˜ì—¬ í•´ìƒë„ë¥¼ ë³µì›í•©ë‹ˆë‹¤.
  - **HV**: ê°ê°ì˜ í”½ì…€ê°’ì„ ìˆ˜í‰ ë° ìˆ˜ì§ ë°©í–¥ìœ¼ë¡œ 1íšŒ ì”© ë³µì‚¬í•˜ì—¬ í•´ìƒë„ë¥¼ ë³µì›í•©ë‹ˆë‹¤.

![copy](./images/copy.png)

## 7-2. Point Cloud
- ë³¸ ì¥ì—ì„œëŠ” ì´ë¯¸ì§€ ë°ì´í„°ë¡œë¶€í„° í¬ì¸íŠ¸ í´ë¼ìš°ë“œë¥¼ ì¬êµ¬ì„±í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ë‹¤ë£¹ë‹ˆë‹¤.
- iTFS ì„¼ì„œë¡œë¶€í„° í¬ì¸íŠ¸ í´ë¼ìš°ë“œë¥¼ ì–»ê¸° ìœ„í•´ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ ì´ë¯¸ì§€ ì¢Œí‘œê³„ì—ì„œ ë¼ì´ë‹¤ ë¡œì»¬ ì¢Œí‘œê³„, ì´í›„ ì›”ë“œ ì¢Œí‘œê³„ë¡œì˜ ì „í™˜ ìˆœìœ¼ë¡œ ë³€í™˜ì„ í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.

![3d](./images/3d.png)

### 7-2-1. Image Coordiantes to LiDAR Local Coordinates
- ì´ë¯¸ì§€ ì¢Œí‘œê³„ì—ì„œ ë¼ì´ë‹¤ì˜ 3ì°¨ì› ì¢Œí‘œê³„ë¡œ ë³€í™˜ì„ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ì„œëŠ” ê¹Šì´ ë° ì¸í…ì‹œí‹° ì´ë¯¸ì§€ ë°ì´í„°ì™€ ì¹´ë©”ë¼ ì¸íŠ¸ë¦°ì§ ë°ì´í„° íŒŒì¼ì´ í•„ìš”í•©ë‹ˆë‹¤ (iTFS ì„¼ì„œì˜ ê²½ìš° *.dat ì˜ í˜•ì‹ìœ¼ë¡œ ì œê³µë¨). 
  - ì´ë¯¸ì§€ ì¢Œí‘œê³„ $(U,V)$ ìƒì—ì„œ ê¹Šì´ ê°’ì€ $d=I(u,v)$, ì¸í…ì‹œí‹° ê°’ì€ $i=I(u,v+160)$
  - ì¸íŠ¸ë¦°ì§ ë°ì´í„° íŒŒì¼ì—ì„œ ì •ì˜ëœ í”½ì…€ ë³„ 3ì°¨ì› ë°©í–¥ë²¡í„° $V(u,v)$:
> $$V(u,v)=(V_x,V_y,V_z)[v][u]=\text{vec}[v][u][3]$$
> $$V_{\{x,y,z\}}=\text{vec}[v+(240-160)/2][u][\{0,1,2\}]$$
- ìœ„ ê°’ì„ ì‚¬ìš©í•´ ê° í”½ì…€ì— í•´ë‹¹í•˜ëŠ” í¬ì¸íŠ¸ì˜ ì¢Œí‘œ $p(x,y,z)$ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ê³„ì‚°í•©ë‹ˆë‹¤.
> $$p(x,y,z)=d(u,v) \times V(u,v)=(d \times V_{x},d \times V_{y},d \times V_{z})$$

![2d-3d](./images/2d-3d.png)

### 7-2-2. LiDAR Local Coordinates to World Coordinates
- ë¼ì´ë‹¤ì˜ ë¡œì»¬ ì¢Œí‘œê³„ì—ì„œ ì›”ë“œ ì¢Œí‘œê³„ë¡œì˜ ë³€í™˜ì„ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ í•„ìš”í•œ ê²ƒì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
  - ë¡œì»¬ ì¢Œí‘œê³„ ìƒì˜ í¬ì¸íŠ¸ í´ë¼ìš°ë“œ ê° ì§€ì ì˜ ì¢Œí‘œ $p(x,y,z)$
  - ë¡œì»¬ ì¢Œí‘œê³„ì˜ $X,Y$ ì¶•ì„ ì›”ë“œ ì¢Œí‘œê³„ì— ë§ì¶”ì–´ì£¼ëŠ” íšŒì „í–‰ë ¬ $R_{o}$ 
  - ë¼ì´ë‹¤ì˜ ì›”ë“œ ì¢Œí‘œê³„ ìƒì˜ 6 dof ìœ„ì¹˜ ë° ìì„¸ ì •ë³´ $R|T$
- ìœ„ ì •ë³´ë¥¼ ì´ìš©í•´ ì›”ë“œ ì¢Œí‘œê³„ ìƒì˜ í¬ì¸íŠ¸ í´ë¼ìš°ë“œì˜ ìœ„ì¹˜ $p_{\text{world}}$ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ê²°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> $$p_{\text{world}}=R \times R_{o} \times p + T $$

![3d-3d](./images/3d-3d.png)

# 8. Software Examples
- **ilidar-api-cpp** ì˜ˆì œì—ì„œëŠ” C/C++ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ iTFS ì„¼ì„œë¥¼ ì œì–´í•˜ê±°ë‚˜, ë°ì´í„°ë¥¼ ì·¨ë“í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œë ¤ì¤ë‹ˆë‹¤. í•´ë‹¹ ì˜ˆì œ ì˜ˆì œì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì€ [ilidar-api-cpp](https://github.com/ilidar-tof/ilidar-api-cpp) í˜ì´ì§€ë¥¼ ì°¸ê³ í•˜ì—¬ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

# 9. Configuration
## 9-1. Configuration Process
- ì„¼ì„œì˜ ë™ì‘ê³¼ ê´€ë ¨ëœ íŒŒë¼ë¯¸í„°ë¥¼ í™•ì¸í•˜ê³  ì´ë¥¼ ë³€ê²½í•˜ëŠ” ê²ƒì€ **CMD** ë° **INFO** (í˜¹ì€ **INFO_V2**, ì´í›„ ëª¨ë‘ **INFO**ë¡œ ê¸°ìˆ ) íŒ¨í‚·ì„ í†µí•´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤. ê° íŒ¨í‚·ì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì€ ì´ì „ì˜ ì¥ì„ ì°¸ê³ í•˜ì—¬ ì£¼ì‹­ì‹œì˜¤.
- ë‹¤ìŒ ìˆœì„œë„ëŠ” ì„¼ì„œì˜ ì„¤ì •ì„ ë³€ê²½í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.
1. **CMD_READ_INFO** íŒ¨í‚·ì„ ì„¼ì„œë¡œ ì „ì†¡í•©ë‹ˆë‹¤. iTFS ì„¼ì„œê°€ ì •ìƒì ìœ¼ë¡œ **CMD_READ_INFO** ë¥¼ ìˆ˜ì‹ í•œ ê²½ìš°, ì„¼ì„œì˜ ì„¤ì • ì •ë³´ë¥¼ **INFO** íŒ¨í‚·ì„ í†µí•´ ë³´ëƒ…ë‹ˆë‹¤. ìœ ì €ê°€ **INFO** íŒ¨í‚·ì„ ë°›ì§€ ëª»í•œ ê²½ìš°, í•˜ë“œì›¨ì–´ ë° IP ê´€ë ¨ëœ ì„¤ì •ì„ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤. **INFO** íŒ¨í‚·ì˜ ê°’ ì¤‘ **lock**ì„ í™•ì¸í•˜ì—¬ configuration lock ì´ ê±¸ë ¤ìˆëŠ” ê²½ìš° **CMD_UNLOCK**ì„ ë³´ë‚´ì–´ ì„¼ì„œì˜ ì„¤ì •ì„ ë³€ê²½ ê°€ëŠ¥í•œ ìƒíƒœë¡œ ë§Œë“­ë‹ˆë‹¤.
2. ì„¼ì„œì˜ ìƒˆë¡­ê²Œ ì„¤ì •í•  **INFO** íŒ¨í‚·ì„ ì¤€ë¹„í•˜ê³  ì „ì†¡í•©ë‹ˆë‹¤. ì„¼ì„œëŠ” ìœ ì €ì—ê²Œì„œ ì „ë‹¬ë°›ì€ **INFO** íŒ¨í‚·ì˜ ê°’ì„ ìì‹ ì˜ ì„¤ì •ì— ë®ì–´ì”Œìš°ëŠ” ì‹ìœ¼ë¡œ ì„¤ì •ì„ ë°”ê¿‰ë‹ˆë‹¤. ë”°ë¼ì„œ, ì˜ë„ì¹˜ ì•Šì€ ì„¤ì •ê°’ì˜ ë³€í™”ë¥¼ ë§‰ê¸° ìœ„í•´, **ê¸°ì¡´ INFO íŒ¨í‚·ì„ ë³µì‚¬í•˜ê³ , ì„¤ì • ë³€ê²½ì´ í•„ìš”í•œ ë¶€ë¶„ì˜ ê°’ ë§Œì„ ë°”ê¾¸ëŠ” ë°©ì‹ìœ¼ë¡œ ìƒˆë¡œìš´ INFO íŒ¨í‚·ì„ ì¤€ë¹„**í•˜ì—¬ ì„¼ì„œë¡œ ì „ì†¡í•©ë‹ˆë‹¤. **INFO** íŒ¨í‚·ì„ ìˆ˜ì‹ í•œ ì„¼ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘í•©ë‹ˆë‹¤.
  - **INFO** íŒ¨í‚·ì—ì„œ ê°ê°ì˜ ê°’ì„ í™•ì¸í•˜ê³ , ìœ íš¨ ë²”ìœ„ë¥¼ ë„˜ì–´ê°€ëŠ” ê²½ìš° ë””í´íŠ¸ ê°’ìœ¼ë¡œ ë³€ê²½
  - ë³€ê²½ëœ ì„¤ì • ì ìš©
  - ë³€ê²½ëœ ì„¤ì •ì„ ë‹´ì€ **INFO** íŒ¨í‚·ì„ ìœ ì €ì—ê²Œ ì „ë‹¬ â†’ ìœ ì €ëŠ” í•´ë‹¹ íŒ¨í‚·ì„ ë°›ì•„, ì„¤ì • ë³€ê²½ì´ ì •ìƒì ìœ¼ë¡œ ì´ë£¨ì–´ì¡ŒëŠ”ì§€ í™•ì¸ ê°€ëŠ¥
3. ì •ìƒì ìœ¼ë¡œ **INFO** íŒ¨í‚·ì„ ë°›ì€ ì„¼ì„œëŠ” ë³€ê²½ëœ ì„¤ì •ê°’ì— ë”°ë¼ ë™ì‘í•˜ê²Œ ë©ë‹ˆë‹¤ (ë‹¨, IP ì£¼ì†Œ ê´€ë ¨ ê°’ë“¤ì€ ì¬ë¶€íŒ… ì´í›„ì— ì ìš©ë¨). í•˜ì§€ë§Œ, ì„¼ì„œê°€ ì¬ë¶€íŒ…ë˜ë©´ ê¸°ì¡´ì˜ ì„¤ì •ê°’ìœ¼ë¡œ ë˜ëŒì•„ê°€ê²Œ ë˜ë©°, **ì¬ë¶€íŒ… ì´í›„ì—ë„ ì„¤ì •ê°’ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ì„œëŠ” CMD_STORE ë¥¼ ì „ì†¡í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.** **CMD_STORE** ë¥¼ ë°›ì€ ì„¼ì„œëŠ” í˜„ì¬ ìì‹ ì˜ ì„¤ì •ê°’ì„ FLASH ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ê³ , ì¬ë¶€íŒ… ì‹œ í•´ë‹¹ ì„¤ì •ê°’ì„ ì½ì–´ì˜µë‹ˆë‹¤. ë§Œì•½ ì„¼ì„œ ì„¤ì •ì´ ì˜ëª»ëœ ê²½ìš°, **CMD_STORE** ê°’ì„ ì „ì†¡í•˜ì§€ ì•Šê³  ì¬ë¶€íŒ…ì„ ìˆ˜í–‰í•¨ìœ¼ë¡œì„œ ì´ì „ì˜ ì„¤ì •ê°’ìœ¼ë¡œ ëŒì•„ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
4. **CMD_REBOOT**ë¥¼ ì „ì†¡í•˜ì—¬ ì„¼ì„œë¥¼ ì¬ë¶€íŒ… í•©ë‹ˆë‹¤. ì´í›„ **CMD_READ_INFO**ë¥¼ ì „ì†¡í•˜ê³ , ë˜ëŒì•„ì˜¤ëŠ” **INFO** íŒ¨í‚·ì„ í™•ì¸í•˜ì—¬ ì„¤ì •ì´ ì €ì¥ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

![config](./images/config.png)

## 9-2. HDR Configuration
- iTFS ì„¼ì„œëŠ” ì•ˆì •ì ì¸ ê¹Šì´ ì´ë¯¸ì§€ ì·¨ë“ì„ ìœ„í•œ HDR (High-Dynamic Range) ê¸°ëŠ¥ì„ íƒ‘ì¬í•˜ê³  ìˆìŠµë‹ˆë‹¤. 
- HDR ê¸°ëŠ¥ì€ **capture_shutter**=[SH1,SH2,SH3,SH4,G] ê°’ì˜ ì„¤ì •ì— ë”°ë¼ ìë™ìœ¼ë¡œ í™œì„±í™” ë©ë‹ˆë‹¤.
  - **SH1,...,SH4**: ê¹Šì´ ì´ë¯¸ì§€ ì·¨ë“ ì…”í„° ê¸¸ì´ ì„¤ì •ê°’, 2ê°œ ì´ìƒì˜ SH ì— 0ì´ ì•„ë‹Œ ê°’ì„ í• ë‹¹í•˜ë©´ HDR ê¸°ëŠ¥ì´ ìë™ìœ¼ë¡œ í™œì„±í™”
  - **G**: í‘ë°± ì¹´ë©”ë¼ ëª¨ë“œ ì…”í„° ê¸¸ì´, ê¹Šì´ ì´ë¯¸ì§€ ì·¨ë“ê³¼ ë¬´ê´€í•œ ê°’
- **capture_shutter** ì— ë”°ë¥¸ HDR ë‹¨ê³„ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •ë©ë‹ˆë‹¤.

| mode  | SH1 | SH2 | SH3 | SH4 | HDR Level |
| :---: | :-: | :-: | :-: | :-: | :-------: |
|  2,3  |  >0  |  >0  |  >0  |  >0  |     4     |
|   1   |  >0  |  >0  |  >0  |  >0  |     3     |
| 1,2,3 |  >0  |  >0  |  >0  |  0  |     3     |
| 1,2,3 |  >0  |  >0  |  0  |  0  |     2     |
| 1,2,3 |  >0  |  0  |  0  |  0  |     1     |

- ì •ìƒì ì¸ HDR ê¹Šì´ ì´ë¯¸ì§€ ì·¨ë“ì„ ìœ„í•´, **SH1 > SH2 > SH3 > SH4** ë¥¼ ë§Œì¡±í•˜ë„ë¡ ì„¤ì •í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

# 10. Synchronization
- iTFS ì„¼ì„œëŠ” Flash ë°©ì‹ì˜ ë¼ì´ë‹¤ë¡œ, ì†ì „ë“±ê³¼ ê°™ì´ í•œë²ˆì— ëª¨ë“  RoIì— ë¹›ì„ ì¡°ì‚¬í•˜ê³ , ë¬¼ì²´ì—ì„œ ë°˜ì‚¬ë˜ëŠ” ë¹› ë˜í•œ ì „ì²´ RoIì—ì„œ í•œë²ˆì— ìˆ˜ì‹  ë°›ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤. ì´ì— ë”°ë¼, ë™ì¼í•œ íŒŒì¥ì„ ì‚¬ìš©í•˜ëŠ” ì„¼ì„œì™€ ê°„ì„­ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (iLidar-ToF: iTFS seriesëŠ” 940nm íŒŒì¥ì„ ì‚¬ìš©í•©ë‹ˆë‹¤)
- ë‹¤ìˆ˜ì˜ iTFS ì„¼ì„œë¥¼ ê°™ì€ ì¥ì†Œì—ì„œ ì‚¬ìš©í•  ê²½ìš°, ê°ê°ì˜ ì„¼ì„œê°€ ì´¬ì˜í•˜ëŠ” ì‹œì ì„ ë¶„ë¦¬í•˜ëŠ” TDMA (Time Division Multiple Access) ë°©ì‹ì„ í†µí•´ ì„¼ì„œ ê°„ì˜ ê°„ì„­ì„ í”¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³¸ ì¥ì—ì„œëŠ” ì´ë¥¼ ìœ„í•œ ë™ê¸°í™” ë°©ì‹ì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤.

## 10-1. Multi-sensor Synchronization
- iTFS ì„¼ì„œëŠ” Mode ë° HDR ë‹¨ê³„ì— ë”°ë¼ ì„œë¡œ ë‹¤ë¥¸ ì‹œì ì— ì´¬ì˜ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, Mode 1 / 3 ë‹¨ê³„ HDR ë¡œ ì„¤ì •ëœ ì„¼ì„œê°€ ë°ì´í„°ë¥¼ ì·¨ë“í•  ë•Œì—ëŠ” ê°ê°ì˜ HDR ë‹¨ê³„ë³„ë¡œ 4íšŒ, ì´ 12íšŒì˜ ì¸¡ì •ì„ ì§„í–‰í•˜ë©°, ì´ë•Œ ì‚¬ìš©í•˜ëŠ” ì¸¡ì • íƒ€ì„ ìœˆë„ìš°(ë¹›ì„ ì˜ê³  ë°›ëŠ” ì‹œê°„)ì€ ì•„ë˜ì˜ ê·¸ë¦¼ê³¼ ê°™ìŠµë‹ˆë‹¤.
- ë”°ë¼ì„œ ë™ì¼í•œ Mode 1 / 3 ë‹¨ê³„ HDR ì„¤ì • ì„¼ì„œë¥¼ ê°™ì€ ê³µê°„ì—ì„œ ë‹¤ìˆ˜ ìš´ìš©í•  ê²½ìš°, ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ ê°œë³„ ë¼ì´ë‹¤ê°€ ë°ì´í„°ë¥¼ ì·¨ë“í•˜ëŠ” ì‹œê°„ì„ ê²¹ì¹˜ì§€ ì•Šê²Œ ì‹œê°„ì ìœ¼ë¡œ ë°°ì¹˜í•¨ìœ¼ë¡œì¨ ê°„ì„­ì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(ê°ê°ì˜ ìƒ‰ì´ ì„œë¡œ ë‹¤ë¥¸ iTFS ì„¼ì„œë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤).

![sync](./images/sync.png)

- ì´ë¥¼ ìœ„í•´ì„œëŠ” ëª¨ë“  ì„¼ì„œê°€ ë™ì¼í•œ ê¸°ì¤€ ì‹œì ì„ ê³µìœ í•˜ê³  (ë™ê¸°í™”), ê°œë³„ ì„¼ì„œì˜ time windowê°€ ê²¹ì¹˜ì§€ ì•Šë„ë¡ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. ë‚¨ì€ ì¥ì—ì„œëŠ” ì´ì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤.

## 10-2. Synchronization Methods
- ë™ê¸°í™”ë¥¼ ìœ„í•´ì„œëŠ” ëª¨ë“  ì„¼ì„œê°€ ë™ì¼í•œ ê¸°ì¤€ ì‹œê°„ì„ ê°€ì§€ê³  ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ë™ê¸°í™” ë°©ë²•ì€ **INFO**ì˜ **sync_mode** ê°’ì— ë”°ë¼ ë°”ë€ë‹ˆë‹¤.

|  Type   | sync_mode | Description                      |
| :-----: | :-------: | :------------------------------- |
|  None   |     0     | No synchronization               |
|   UDP   |     1     | Synchronizatino with UDP         |
| Trigger |     2     | Synchronization with Trigger pin |

### 10-2-1. UDP Synchronization
- UDP ê¸°ë°˜ ë™ê¸°í™”ëŠ” ì„¼ì„œê°€ UDPì˜ **CMD_SYNC** íŒ¨í‚·ì„ ë°›ì€ ì‹œì ì„ ê¸°ì¤€ ì‹œê°„ìœ¼ë¡œ í•˜ì—¬ ë™ê¸°í™” í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ìœ ì €ê°€ **CMD_SYNC** íŒ¨í‚·ì„ Broadcasting í•´ì£¼ëŠ” ì‹ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.
- ë„¤íŠ¸ì›Œí¬ ì§€ì—°ìœ¼ë¡œ ì¸í•œ ì˜í–¥ì˜ ê²½ìš°, ê°œë³„ ì„¼ì„œê°€ **CMD_SYNC** íŒ¨í‚·ì„ ë°›ëŠ” ì§€ì—°ì´ 3~4 us ì •ë„ ì´ë‚´ì´ë©´ ë™ì‘ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- UDP ê¸°ë°˜ ë™ê¸°í™”ì˜ ê²½ìš°, ì„¼ì„œì˜ ì„¤ì •ê°’ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
  - **sync_mode**: 1
  - **sync_trig_delay_us**: 0~ **capture_period_us** ì‚¬ì´ì˜ ì •ìˆ˜, ë‹¨ìœ„: [us]
- êµ¬ì²´ì ì¸ ë™ì‘ ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. 
  - (1) SYNC íŒ¨í‚·ì„ ë°›ì€ ì‹œì ì„ ê¸°ì¤€ ì‹œê°„ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. 
  - (2) ê¸°ì¤€ ì‹œê°„ì—ì„œ (**sync_trig_delay_us** - **sync_trig_trim_us**) [us] ê°€ ì§€ë‚œ ì´í›„ ë°ì´í„° ì·¨ë“ì„ ì‹œì‘, ì´í›„ ë§¤ **capture_period_us** ë§ˆë‹¤ ë°ì´í„°ë¥¼ ì·¨ë“í•©ë‹ˆë‹¤.
  - (3) ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ì„¼ì„œ ì‚¬ì´ì˜ ê¸°ì¤€ ì‹œê°„ì´ ì–´ê¸‹ë‚˜ê²Œ ë©ë‹ˆë‹¤. ë”°ë¼ì„œ, ìœ ì €ê°€ ì£¼ê¸°ì ìœ¼ë¡œ **CMD_SYNC** íŒ¨í‚·ì„ Broadcasting í•´ ì§€ì†ì ìœ¼ë¡œ ê¸°ì¤€ ì‹œê°„ì„ ë§ì¶¥ë‹ˆë‹¤.

### 10-2-2. Trigger Synchronization
- ìœ ì„  ë™ê¸°í™”ëŠ” ì„¼ì„œì˜ TRIGGER í•€ì—ì„œ ë“¤ì–´ì˜¨ ì‹ í˜¸ë¥¼ ê¸°ì¤€ ì‹œê°„ìœ¼ë¡œ í•˜ì—¬ ë™ê¸°í™” í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ìœ ì €ê°€ ì§ì ‘ ë™ì‹œì— ì‚¬ìš©ë˜ëŠ” ì„¼ì„œì— ë™ê¸°í™” ì‹ í˜¸ë¥¼ ì…ë ¥í•´ ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.
- ìœ ì„  ë™ê¸°í™”ì˜ ê²½ìš°, ì„¼ì„œì˜ ì„¤ì •ê°’ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
  - **sync_mode**: 2
  - **sync_trig_delay_us**: 0~ **capture_period_us** ì‚¬ì´ì˜ ì •ìˆ˜, ë‹¨ìœ„: [us]
- êµ¬ì²´ì ì¸ ë™ì‘ ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. 
  - (1) TRIGGER í•€ì—ì„œ ì‹ í˜¸ë¥¼ ë°›ì€ ì‹œì ì„ ê¸°ì¤€ ì‹œê°„ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. 
  - (2) ê¸°ì¤€ ì‹œê°„ì—ì„œ (**sync_trig_delay_us** - **sync_trig_trim_us**) [us] ê°€ ì§€ë‚œ ì´í›„ ë°ì´í„° ì·¨ë“ì„ ì‹œì‘, ì´í›„ ë§¤ **capture_period_us** ë§ˆë‹¤ ë°ì´í„°ë¥¼ ì·¨ë“í•©ë‹ˆë‹¤.
  - (3) ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ì„¼ì„œ ì‚¬ì´ì˜ ê¸°ì¤€ ì‹œê°„ì´ ì–´ê¸‹ë‚˜ê²Œ ë©ë‹ˆë‹¤. ë”°ë¼ì„œ, ì£¼ê¸°ì ìœ¼ë¡œ TRIGGER í•€ì„ í†µí•´ ê¸°ì¤€ ì‹œê°„ì„ ë§ì¶¥ë‹ˆë‹¤. 

### 10-2-3. Optical Synchronization (in development)
- ìœ ì„  ë™ê¸°í™” ì—†ì´ ê°œë³„ ì„¼ì„œê°€ ë‹¤ë¥¸ ì„¼ì„œê°€ ë°©ì¶œí•˜ëŠ” ë¹›ì„ ë¶„ì„í•˜ì—¬ ë™ê¸°í™”í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ, í˜„ì¬ ê°œë°œ ì¤‘ì— ìˆìŠµë‹ˆë‹¤.


## 10-3. Fine-Tuning Time Window
- ì„¼ì„œ ê°„ì˜ ê°„ì„­ì„ í”¼í•˜ê¸° ìœ„í•´, ê°œë³„ ì„¼ì„œì˜ ì¸¡ì • íƒ€ì„ ìœˆë„ìš°ë¥¼ ìƒì„¸í•˜ê²Œ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

![capture](./images/capture.png)

- Synchronization ê¸°ëŠ¥ í™œì„±í™” ì‹œ, ì„¼ì„œëŠ” SYNC ì‹ í˜¸ë¥¼ ë°›ì€ ì‹œì ì„ ê¸°ì¤€ìœ¼ë¡œ Trigger delay ì‹œê°„ í›„ ë°ì´í„° ì·¨ë“ì„ ì‹œì‘í•©ë‹ˆë‹¤. Trigger delay ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì • ê°€ëŠ¥í•©ë‹ˆë‹¤.
  - **sync_trig_delay_us**: ë”œë ˆì´ ì„¤ì •ê°’
  - **sync_ill_trim_us**: í†µì‹  ì§€ì—°ì— ëŒ€í•œ ë³´ìƒê°’
> $$ \textit{Trigger delay} = (\textit{sync\\_trig\\_delay\\_us}) - (\textit{sync\\_trig\\_trim\\_us}) $$
- HDR ë‹¨ê³„ë³„ 4ì¥ì˜ ì›ì‹œ ì´ë¯¸ì§€ë¥¼ ì´¬ì˜í•˜ë©°, ìµœëŒ€ 4ë‹¨ê³„ HDR ì„¤ì • ì‹œ 16ì¥ì˜ ì›ì‹œ ì´ë¯¸ì§€ë¥¼ ì´¬ì˜í•˜ì—¬ ê¹Šì´ ì´ë¯¸ì§€ ë° ì„¸ê¸° ì´ë¯¸ì§€ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤. ë™ì¼ í”„ë ˆì„ ë‚´ ì›ì‹œ ì´ë¯¸ì§€ ì‚¬ì´ì˜ ì‹œê°„ ê°„ê²©ì„ $t_i(i=0 \sim 14)$ ì´ë¼ í•  ë•Œ, **sync_ill_delay_us**[$i$] ì— 0ì´ ì•„ë‹Œ ê°’ì„ ì„¤ì •í•˜ì—¬ ê°„ê²©ì„ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„¤ì •ëœ ê°’ì´ Minimum delayë³´ë‹¤ ì§§ì„ ê²½ìš°, Minimum delayë¡œ ë™ì‘í•©ë‹ˆë‹¤.
  - **Minimum delay** (ìµœì†Œ ì²˜ë¦¬ ì‹œê°„)
    - Mode 1: **capture_shutter** + 3900 [us]
    - Mode 2: **capture_shutter** + 1950 [us]
    - Mode 3: **capture_shutter** + 975 [us]
  - **sync_ill_delay_us** [i]: ë”œë ˆì´ ì„¤ì •ê°’, ê° [i] ë³„ ì ìš©
  - **sync_ill_trim_us**: ë‚´ë¶€ í´ëŸ­ ì˜¤ì°¨ ë³´ìƒê°’, ëª¨ë“  [i]ì— ë™ì¼í•œ ê°’ ì ìš©
> $$ t_{i}= \text{MAX} (\textit{Minimum delay},\textit{sync\\_ill\\_delay\\_us[i]} - \textit{sync\\_ill\\_trim\\_us}) $$

## 10-4. Multi Sensor Examples
- ë‹¤ìŒì€ UDP ë™ê¸°í™” ë°©ì‹ì„ í†µí•´ iTFS ì„¼ì„œ 4ëŒ€ë¥¼ ë™ì‹œì— ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ì•ˆì •ì ì¸ ë™ê¸°í™”ë¥¼ ìœ„í•´ì„œëŠ” ë‹¤ìŒì„ í™•ì¸í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.
  - ê°œë³„ ì„¼ì„œì˜ **capture_mode** ê°€ ë™ì¼í•˜ê²Œ ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
  - **capture_period** ê°€ ë™ì¼í•˜ê²Œ ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
  - **sync_mode**ê°€ í†µì¼ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
  - ì„¼ì„œ ë³„ **sync_delay**ê°’ì´ illumination profile ì´ ê²¹ì¹˜ì§€ ì•Šë„ë¡ ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
- ë¨¼ì €, ëª¨ë“  ì„¼ì„œë¥¼ ì•„ë˜ì™€ ê°™ì€ íŒŒë¼ë¯¸í„°ë¥¼ ê°€ì§€ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.

| Common Parameters |       Value        |
| :---------------: | :----------------: |
|   capture_mode    |         1          |
|  capture_period   |         80         |
|  capture_shutter  | [400,80,16,0,8000] |
|       sync        |         1          |

- ë‹¤ìŒìœ¼ë¡œ, ê° ì„¼ì„œë³„ **sync_delay**ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•©ë‹ˆë‹¤.

| Sensors | sync_delay |
| :---------------: | :--------: |
|      iTFS_A       |     0      |
|      iTFS_B       |     20     |
|      iTFS_C       |     40     |
|      iTFS_D       |     60     |

- PC ì™€ iTFS ì„¼ì„œë“¤ì„ ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ ì—°ê²°í•˜ê³ , PCì—ì„œ CMD_SYNC íŒ¨í‚·ì„ ì£¼ê¸°ì (ì•½ 2~3ë¶„ì— 1íšŒ)ìœ¼ë¡œ broadcastingí•˜ë„ë¡ ì„¸íŒ…í•©ë‹ˆë‹¤.

![4-lidars](./images/4-lidars.png)

# 11. Sensor Maintenance Guide
## 11-1. Hardware Maintenance and Safety Guide
### 11-1-1. Electrical Requirements and Safety Conditions
- ì œí’ˆì— ì—°ê²°ë˜ëŠ” ë„ì„ ì˜ ì „ê¸°ì  ì ‘í•©ì ì´ í•­ìƒ ì˜ ì ‘ì´‰ë  ìˆ˜ ìˆë„ë¡ í•˜ì—¬ ì£¼ì‹­ì‹œì˜¤. í—ê±°ìš´ ì ‘ì´‰ì€ ê³ ì¥, ì‹ í˜¸ í’ˆì§ˆ ë¶ˆëŸ‰ ë° í™”ì¬ì˜ ì›ì¸ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë³¸ ì œí’ˆì€ ë°©ìˆ˜ ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë¬¼, ì „ë„ì„± ì•¡ì²´, ì¸í™”ì„± ê°€ë£¨ ë° ì•¡ì²´, ê¸°íƒ€ ì•¡ì²´ê°€ ì„¼ì„œì— ì ‘ì´‰ë˜ì§€ ì•Šë„ë¡ í•´ì£¼ì‹­ì‹œì˜¤. íŠ¹íˆ, ì„¼ì„œì˜ ì „ê¸°ì  ì ‘í•©ì ì— ì•¡ì²´ê°€ ì ‘ì´‰ë˜ì§€ ì•Šë„ë¡ í•˜ì—¬ ì£¼ì‹­ì‹œì˜¤.
- ë†’ì€ ìŠµë„ëŠ” ì œí’ˆ ë‚´ë¶€ì— ê²°ë¡œë¥¼ ë°œìƒì‹œí‚¤ê³  ì „ê¸°ì  ì†ìƒì„ ì¼ìœ¼í‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì œí’ˆì— ì „ê¸°ê°€ ê³µê¸‰ë˜ê³  ìˆì§€ ì•Šì€ ìƒí™©ì—ì„œë„ ì „ê¸°ì  ì ‘í•©ì ì— ëŒ€í•œ ì¸ì²´ í˜¹ì€ ì „ë„ì„± ë¬¼ì²´ì˜ ì§ì ‘ì ì¸ ì ‘ì´‰ì„ ì‚¼ê°€ ì£¼ì‹­ì‹œì˜¤.
- ì œí’ˆì˜ ì „ì› ê³µê¸‰ ë° ì‹ í˜¸ ì „ë‹¬ì— ì‚¬ìš©ë˜ëŠ” ê¸°ê¸°ëŠ” ì„±ëŠ¥ ë° ì•ˆì „ì„±ì— ëŒ€í•´ ì¸ì¦ ë°›ì€ ê¸°ê¸°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì£¼ì‹­ì‹œì˜¤.
- ì œí’ˆì˜ ì „ì› ê³µê¸‰ ë°©ì‹ì— ë”°ë¥¸ í—ˆìš© ì „ì•• ë²”ìœ„ë¥¼ í™•ì¸í•˜ì‹œê³  ì—°ê²°í•˜ì—¬ ì£¼ì‹­ì‹œì˜¤. ì „ì› ê³µê¸‰ì´ ë¶ˆì•ˆì •í•˜ê±°ë‚˜, í—ˆìš© ì „ì•• ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” ê²½ìš°, ì œí’ˆì— ì˜êµ¬ì ì¸ ì†ìƒì„ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì œí’ˆì˜ ì•ˆì •ì ì¸ ë™ì‘ì„ ìœ„í•˜ì—¬ STATUS íŒ¨í‚·ì˜ ì•„ë˜ ê°’ë“¤ì„ ëª¨ë‹ˆí„°ë§í•˜ê³ , í—ˆìš© ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” ê²½ìš° ì œí’ˆì˜ ì‚¬ìš©ì„ ì¦‰ì‹œ ì¤‘ì§€í•˜ê³  ì „ì› ê³µê¸‰ ë°©ì‹ì„ í™•ì¸í•˜ì‹­ì‹œì˜¤.

|     Parameters     |     Description      | Minimum | Maximum |
| :----------------: | :------------------: | :-----: | :-----: |
| sensor_vcsel_level | Laser Voltage Level  | 11.00 V | 11.65 V |
| sensor_power_level | Internal Power Level | 17.5 V  | 21.5 V  |

### 11-1-2. Temperature and Heat Dissipation
- ì œí’ˆ ë° ì œí’ˆì— ì „ì›ì„ ê³µê¸‰í•˜ëŠ” ì¥ì¹˜ê°€ ì†ìƒë˜ê±°ë‚˜ ê³¼ì—´ë˜ì§€ ì•Šë„ë¡ í•˜ì—¬ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
- ì œí’ˆì˜ ë™ì‘ ì‹œ ì„¼ì„œ í‘œë©´ ì˜¨ë„ê°€ ì¼ë°˜ì ì¸ í™˜ê²½ì˜ ì˜¨ë„(25Â°C) ì´ìƒìœ¼ë¡œ ì˜¬ë¼ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì œí’ˆ í‘œë©´ì— ì§ì ‘ì ì¸ í”¼ë¶€ì˜ ì ‘ì´‰ í˜¹ì€ ì œí’ˆ ì£¼ë³€ë¶€ì— ë¨¸ë¬´ë¦„ì€ í™”ìƒì„ ìœ ë°œí•  ìˆ˜ ìˆìœ¼ë‹ˆ, í•´ë‹¹ ìœ„í—˜ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ë°˜ë“œì‹œ ì œí’ˆ í‘œë©´ ì˜¨ë„ í™•ì¸ í›„ ì ‘ì´‰ì„ ìˆ˜í–‰í•˜ì—¬ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
- ì œí’ˆì˜ ì›í™œí•œ ë™ì‘ì„ ìœ„í•´, ì œí’ˆ í›„ë©´ì˜ ë°©ì—´íŒ ì£¼ìœ„ì— ì¶©ë¶„í•œ ê³µê°„ì„ í™•ë³´í•˜ì—¬ ê³µê¸°ê°€ ììœ ë¡­ê²Œ íë¥¼ ìˆ˜ ìˆë„ë¡ í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
- ì œí’ˆì˜ ì •ìƒ ë™ì‘ ìƒíƒœë¥¼ ìœ ì§€í•˜ê¸°ìœ„í•´, ì‚¬ìš©ìëŠ” ì œí’ˆì— í™˜í’ê¸°, ë°©ì—´íŒ¬ê³¼ ê°™ì€ ì¶”ê°€ì ì¸ ë°©ì—´ ë°©ì‹ì„ ë„ì…í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì œí’ˆì˜ ì•ˆì „í•œ ì‚¬ìš©ì„ ìœ„í•˜ì—¬ STATUS íŒ¨í‚· ë° STATUS_FULL íŒ¨í‚·ì˜ ì•„ë˜ íŒŒë¼ë¯¸í„°ë“¤ì„ ëª¨ë‹ˆí„°ë§í•˜ê³ , í—ˆìš© ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” ê²½ìš° ì œí’ˆì˜ ì‚¬ìš©ì„ ì¦‰ì‹œ ì¤‘ì§€í•˜ì—¬ ì£¼ì‹­ì‹œì˜¤.

|    Parameters    |          Description           | Minimum | Maximum |
| :--------------: | :----------------------------: | :-----: | :-----: |
|  sensor_temp_rx  | Receiver Temperature (Celsius) | -25 Â°C  |  90 Â°C  |
| sensor_temp_core | Circuit Temperature (Celsius)  | -25 Â°C  | 100 Â°C  |
|   sensor_temp    |   Case Temperature (Celsius)   | -25 Â°C  |  70 Â°C  |

### 11-1-3. Optical Windows
- ê´‘í•™ ìœˆë„ìš°ì˜ íŒŒì†ì´ í™•ì¸ë˜ëŠ” ê²½ìš° ì¸ì²´ ì†ìƒì˜ ìœ„í—˜ì´ ìˆìŒìœ¼ë¡œ ì¦‰ì‹œ ì‚¬ìš©ì„ ì¤‘ì§€í•˜ì—¬ ì£¼ì‹­ì‹œì˜¤.
- ì¼ë°˜ì ì¸ ê²½ìš° ì œí’ˆì˜ ìœ ì§€ë³´ìˆ˜ë¥¼ ìœ„í•´ í•„ìš”í•œ ê²ƒì€ ê´‘í•™ ìœˆë„ìš°ì˜ ë¨¼ì§€ ë° ì–¼ë£© ì œê±°ì…ë‹ˆë‹¤. ë¨¼ì§€ì™€ ì–¼ë£©ì€ ì œí’ˆì˜ ë™ì‘, íŠ¹íˆ ì¸¡ì • ì •ë°€ë„ì— ë¶€ì •ì ì¸ ì˜í–¥ì„ ë¼ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¨¼ì§€ì™€ ì–¼ë£©ì´ ë§ì´ ë°œìƒí•  ìˆ˜ ìˆëŠ” í™˜ê²½ì—ì„œëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ê´‘í•™ ìœˆë„ìš°ë¥¼ í™•ì¸í•˜ê³ , ì•„ë˜ ë°©ë²•ì— ë”°ë¼ ì²­ì†Œí•˜ì—¬ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
- ë¨¼ì§€ì˜ ì œê±°: ê´‘í•™ ìœˆë„ìš° ìƒì— ë¨¼ì§€ê°€ ìˆëŠ” ê²½ìš°, ì´ë¥¼ ë°”ë¡œ ë‹¦ì•„ë‚´ëŠ” ê²ƒì€ ë¨¼ì§€ë¡œ ì¸í•œ ì†ìƒì„ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê²½ìš°, ì••ì¶• ê³µê¸°ë¥¼ ì‚¬ìš©í•˜ì—¬ ê´‘í•™ ìœˆë„ìš° ìƒì˜ ë¨¼ì§€ë¥¼ ì œê±°í•˜ì—¬ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
- ì–¼ë£©ì˜ ì œê±°: ê´‘í•™ ì¥ì¹˜ì˜ ì–¼ë£© ì œê±°ì— ì‚¬ìš©ë˜ëŠ” ê´‘í•™ ë Œì¦ˆìš© í‹°ìŠˆë¥¼ ì‚¬ìš©í•˜ì—¬ ì–¼ë£©ì„ ì œê±°í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤. ê´‘í•™ ìœ„ë„ìš°ì— ë¨¼ì§€ê°€ ìˆì„ ê²½ìš°, ì••ì¶• ê³µê¸°ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¨¼ì§€ë¥¼ ì œê±° í›„ ì–¼ë£©ì„ ì œê±°í•˜ì—¬ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

## 11-2. Warning Code
- STATUS íŒ¨í‚· PAYLOADì˜ ë§ˆì§€ë§‰ì€ 4 ë°”ì´íŠ¸ í¬ê¸°ì˜ **sensor_warning*ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆìœ¼ë©°, ê°ê°ì˜ ë¹„íŠ¸ê°’ì€ ì„¼ì„œ ì‘ë™ ì¤‘ ì´ìƒ ë°œìƒì— ëŒ€í•œ warning code ì •ë³´ë¥¼ ë‹´ê³  ìˆìŠµë‹ˆë‹¤. ì„¼ì„œ ì‚¬ìš©ìëŠ” í•´ë‹¹ ê°’ì„ ëª¨ë‹ˆí„°ë§í•˜ê³ , ê²½ê³  ë°œìƒ ì‹œ ì´ì— ë§ëŠ” ëŒ€ì‘ì„ í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.
- ì „ì•• ê´€ë ¨ ë¬¸ì œ: ì „ì› ê³µê¸‰ì´ ì›í™œí•˜ê²Œ ë˜ëŠ”ì§€ í™•ì¸í•˜ì—¬ ì£¼ì‹­ì‹œì˜¤.
- ì˜¨ë„ ê´€ë ¨ ë¬¸ì œ: ì„¼ì„œ ì£¼ë³€ì˜ ê³µê¸° íë¦„ì„ ì›í™œí•˜ê²Œ í•˜ì—¬ ì£¼ì‹œê³ , í•„ìš” ì‹œ ë°©ì—´íŒ¬ ë“±ì„ ì´ìš©í•˜ì—¬ ì¶”ê°€ì ì¸ ë°©ì—´ì„ ìˆ˜í–‰í•˜ì—¬ ì£¼ì‹­ì‹œì˜¤.
- ë¬¸ì œê°€ ì§€ì†ë˜ëŠ” ê²½ìš°, ë³¸ ì œí’ˆì˜ ì œì¡°ì‚¬ë¡œ ì—°ë½ì„ ë¶€íƒë“œë¦½ë‹ˆë‹¤.

| Bit | Description              | Bit | Description       |
| :-: | :----------------------- | :-: | :---------------- |
|  2  | Reserver Overvoltage     | 14  | 5V Overvoltage    |
|  3  | Reserver Undervoltage    | 15  | 5V Undervoltage   |
|  4  | Transmitter Overvoltage  | 16  | 10V Overvoltage   |
|  5  | Transmitter Undervoltage | 17  | 10V Undervoltage  |
|  6  | REF Overvoltage          | 18  | -10V Overvoltage  |
|  7  | REF Undervoltage         | 19  | -10V Undervoltage |
|  8  | BAT Overvoltage          | 20  | Receiver Overheat |
|  9  | BAT Undervoltage         | 21  | Receiver Freezing |
| 10  | Input Overvoltage        | 22  | MCU Overheat      |
| 11  | Input Undervoltage       | 23  | MCU Freezing      |
| 12  | 1.8V Overvoltage         | 24  | Case Overheat     |
| 13  | 1.8V Undervoltage        | 25  | Case Freezing     |
  
## 11-3. Factory Reset
- ì„¼ì„œì˜ ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì´ ì˜ë„ì¹˜ ì•Šê²Œ ì„¤ì •ë˜ì–´, ë°ì´í„° ì ‘ê·¼ì´ í˜ë“  ê²½ìš° ì•„ë˜ì˜ ë°©ë²•ì„ í†µí•´ ì„¼ì„œ ë‚´ë¶€ì˜ íŒŒë¼ë¯¸í„°ë¥¼ ê³µì¥ ì¶œí•˜ ì‹œì ì˜ ê°’ìœ¼ë¡œ ì´ˆê¸°í™” ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### iTFS ì‹œë¦¬ì¦ˆ íŒì›¨ì–´ **V 1.4.X**:
> 1. **Wireshark**ì™€ ê°™ì€ ë„¤íŠ¸ì›Œí¬ íˆ´ì„ í†µí•´ ì„¼ì„œì˜ IPë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
> 2. í•´ë‹¹ IPë¡œ **CMD_RESET** íŒ¨í‚·ì„ ì†¡ì‹ í•˜ì—¬, ê³µì¥ ì´ˆê¸°í™”ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.

### iTFS ì‹œë¦¬ì¦ˆ íŒì›¨ì–´ **V 1.5.X ì´ìƒ**:
- ìœ„ì˜ **V 1.4.X** ë°©ë²•ê³¼ ê°™ì´ **CMD_RESET** íŒ¨í‚·ì„ ì†¡ì‹ í•˜ì—¬, ê³µì¥ ì´ˆê¸°í™”ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì¶”ê°€ì ìœ¼ë¡œ, **V 1.5.X ì´ìƒ**ì˜ íŒì›¨ì–´ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë¬¼ë¦¬ì  ê³µì¥ ì´ˆê¸°í™” ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.
- **(ê²½ê³ )** ë¬¼ë¦¬ì  ê³µì¥ ì´ˆê¸°í™”ì˜ ê²½ìš°, I/O í¬íŠ¸ì˜ ì „ê¸°ì  ì—°ê²°ì— ì£¼ì˜í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
- **(ê²½ê³ )** ì˜ëª»ëœ I/O í¬íŠ¸ ì—°ê²°ë¡œ ì¸í•œ ì œí’ˆ íŒŒì†ì€ ë¬´ìƒ A/S ë²”ìœ„ì— í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
> 1. ì„¼ì„œì˜ ì „ì›ì„ ì™„ì „íˆ ì œê±°í•©ë‹ˆë‹¤.
> 2. ì„¼ì„œì˜ í›„ë©´ë¶€ 6 í•€ I/O í¬íŠ¸ì˜, **TRIGGER**ì™€ **STROBE**ë¥¼ ì—°ê²°í•©ë‹ˆë‹¤.
> 3. 2ì˜ ìƒíƒœì—ì„œ ì„¼ì„œì˜ ì „ì›ì„ ì…ë ¥í•©ë‹ˆë‹¤.
> 4. ì „ì›ì´ ì…ë ¥ë˜ë©´, LAN í¬íŠ¸ì˜ LINK / ACT LEDê°€ ì¼ì •í•œ ì£¼ê¸°ë¡œ BLINKë©ë‹ˆë‹¤.
> 5. BLINKê°€ ë¨ì„ í™•ì¸í•˜ë©´, ì „ì›ì„ ì™„ì „íˆ ì œê±°í•©ë‹ˆë‹¤.
> 6. ì „ì›ì„ ì œê±°í•œ í›„, 6 í•€ I/O í¬íŠ¸ì˜ **TRIGGER**ì™€ **STROBE**ì˜ ì—°ê²°ì„ ì œê±°í•©ë‹ˆë‹¤.
> 7. ë‹¤ì‹œ ì „ì›ì„ ì…ë ¥í•˜ê²Œ ë˜ë©´, ê³µì¥ ì¶œí•˜ ì‹œì ì˜ íŒŒë¼ë¯¸í„° ê°’ìœ¼ë¡œ ì„¼ì„œê°€ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.

![reset](./images/RESET.gif)

# 12. FAQ
## Q1. PCì— ì œí’ˆì„ ì—°ê²°í–ˆëŠ”ë°, ë°ì´í„°ê°€ ì œëŒ€ë¡œ ìˆ˜ì‹ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
ì•„ë˜ì˜ ë‚´ìš©ë“¤ì„ ì ê²€í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
### 1. ë¼ì´ë‹¤ ë™ì‘ ì—¬ë¶€ í™•ì¸
- ë¼ì´ë‹¤ê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘ ë° ë°ì´í„° ì†¡ì‹  ì¤‘ì´ë©´, í›„ë©´ë¶€ LAN í¬íŠ¸ì˜ LINK / ACT LEDê°€ ë™ì‘í•˜ê²Œ ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ,  **LINK = BLINK** / **ACT = ON** ì´ ë‚˜íƒ€ë‚˜ëŠ”ì§€ ì ê²€í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
- LINK / ACT LEDê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šìœ¼ë©´, ì „ì›ë¶€ì˜ ì „ì› ê³µê¸‰ ìƒíƒœë¥¼ ì ê²€í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
- ì „ì› ê³µê¸‰ ìƒíƒœê°€ ì–‘í˜¸í•œ ìƒí™©ì—ì„œë„, LINK / ACT LEDê°€ ë™ì‘í•˜ì§€ ì•Šìœ¼ë©´, A/S ì„¼í„°ë¡œ ì—°ë½ ë¶€íƒë“œë¦½ë‹ˆë‹¤.
- LINK / ACT LEDê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ë©´, 2ë²ˆ í•­ëª©ì„ í™•ì¸í•˜ì‹­ì‹œì˜¤.

![leds](./images/LED.gif)

### 2. ë¼ì´ë‹¤ ë°ì´í„° ìˆ˜ì‹  ì—¬ë¶€ í™•ì¸
- ë°ì´í„° íŒ¨í‚·ì´ ì œëŒ€ë¡œ ìˆ˜ì‹ ì¤‘ì¸ì§€ ì—¬ë¶€ í™•ì¸ì„ ìœ„í•´, **Wireshark** (downloadable at [Wireshark](https://www.wireshark.org/)) ì„¤ì¹˜ë¥¼ ì¶”ì²œë“œë¦½ë‹ˆë‹¤. í•´ë‹¹ í”„ë¡œê·¸ë¨ì„ í†µí•´, **Source/Destination IP**ê°€ ì œëŒ€ë¡œ ì„¤ì •ë˜ì–´ì„œ íŒ¨í‚·ì´ ìˆ˜ì‹ ë˜ëŠ”ì§€ í™•ì¸í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
- Wiresharkì—ì„œ ì „ì†¡ì— ë¬¸ì œê°€ ìˆë‹¤ë©´, ìˆ˜ì‹  PCì˜ IPë¥¼ defaultë¡œ ì„¤ì • í›„, ì—°ê²° ì—¬ë¶€ë¥¼ ì ê²€í•˜ê¸° ë°”ëë‹ˆë‹¤. (ì„¤ì • í›„ ì¬ë¶€íŒ… ë“±ì„ í†µí•´ ë„¤íŠ¸ì›Œí¬ì— ë°˜ì˜ í•„ìš”)
  - **Default Dest IP**: 192.168.5.2  
  - **Default Subnet Mask**: 255.255.255.0  
- Wiresharkì—ì„œ ì „ì†¡ì— ë¬¸ì œê°€ ì—†ë‹¤ë©´, 3ë²ˆ í•­ëª©ì„ í™•ì¸í•˜ì‹­ì‹œì˜¤.

![faq1](./images/faq1.png)

### 3. ë°©í™”ë²½ ìƒíƒœ í™•ì¸
- ë¼ì´ë‹¤ ë°ì´í„° ìˆ˜ì‹ ì„ ìœ„í•´, (default) ìˆ˜ì‹  PC ì†Œì¼“ì˜ **7256/7257**ë²ˆ í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
- ë”°ë¼ì„œ, Windows í˜¹ì€ íƒ€ OSì—ì„œ í•´ë‹¹ ì†Œì¼“ì— ë°©í™”ë²½ ì„¤ì • ì—¬ë¶€ë¥¼ ì ê²€í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
- ë°©í™”ë²½ì´ ì„¤ì • ë˜ì–´ìˆë‹¤ë©´, ë°©í™”ë²½ì„ í•´ì œí•œ í›„ ë°ì´í„° ìˆ˜ì‹ ì„ í™•ì¸í•˜ì‹­ì‹œì˜¤.
- ë°©í™”ë²½ í•´ì œ ì´í›„ì—ë„ ë¬¸ì œê°€ í•´ê²°ë˜ì§€ ì•Šìœ¼ë©´, A/S ì„¼í„°ë¡œ ì—°ë½ ë¶€íƒë“œë¦½ë‹ˆë‹¤.
